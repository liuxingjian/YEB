{"remainingRequest":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\babel-loader\\lib\\index.js!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\utils\\download.js","dependencies":[{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\utils\\download.js","mtime":1666527853824},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\babel.config.js","mtime":1666527853821},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666529050686},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\babel-loader\\lib\\index.js","mtime":1666529051466}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWxhc3QuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWxhc3QtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zZXQuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSAiZWxlbWVudC11aSI7CmltcG9ydCByb3V0ZXIgZnJvbSAiLi4vcm91dGVyIjsKY29uc3Qgc2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgcmVzcG9uc2VUeXBlOiAiYXJyYXlidWZmZXIiCn0pOwpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShjb25maWcgPT4gewogIGNvbmZpZy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndG9rZW5TdHInKTsKICByZXR1cm4gY29uZmlnOwp9LCBlcnJvciA9PiB7CiAgY29uc29sZS5sb2coZXJyb3IpOwp9KTsKc2VydmljZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKHJlcyA9PiB7CiAgY29uc3QgaGVhZGVycyA9IHJlcy5oZWFkZXJzOwogIGxldCByZWcgPSBSZWdFeHAoJy9hcHBsaWNhdGlvblwvanNvbi8nKTsKICBpZiAoaGVhZGVyc1snY29udGVudC10eXBlJ10ubWF0Y2gocmVnKSkgewogICAgcmVzLmRhdGEgPSB1bml0VG9TdHJpbmcocmVzLmRhdGEpOwogIH0gZWxzZSB7CiAgICBsZXQgZmlsZURvd25sb2FkID0gcmVxdWlyZSgnanMtZmlsZS1kb3dubG9hZCcpOwogICAgbGV0IGZpbGVOYW1lID0gaGVhZGVyc1snY29udGVudC1kaXNwb3NpdGlvbiddLnNwbGl0KCc7JylbMV0uc3BsaXQoJ2ZpbGVuYW1lPScpWzFdOwogICAgbGV0IGNvbnRlbnRUeXBlID0gaGVhZGVyc1snY29udGVudC10eXBlJ107CiAgICBmaWxlTmFtZSA9IGRlY29kZVVSSUNvbXBvbmVudChmaWxlTmFtZSk7CiAgICBmaWxlRG93bmxvYWQocmVzLmRhdGEsIGZpbGVOYW1lLCBjb250ZW50VHlwZSk7CiAgfQp9LCBlcnJvciA9PiB7CiAgY29uc29sZS5sb2coZXJyb3IpOwp9KTsKZnVuY3Rpb24gdW5pdFRvU3RyaW5nKHVuaXRBcnJheSkgewogIGxldCBlbmNvZGVkU3RyaW5nID0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheSh1bml0QXJyYXkpKTsKICBsZXQgZGVjb2RlZFN0cmluZyA9IGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoZW5jb2RlZFN0cmluZykpOwogIHJldHVybiBKU09OLnBhcnNlKGRlY29kZWRTdHJpbmcpOwp9CmxldCBiYXNlID0gJyc7CmV4cG9ydCBjb25zdCBkb3dubG9hZFJlcXVlc3QgPSAodXJsLCBwYXJhbXMpID0+IHsKICByZXR1cm4gc2VydmljZSh7CiAgICBtZXRob2Q6ICdnZXQnLAogICAgdXJsOiBgJHtiYXNlfSR7dXJsfWAsCiAgICBkYXRhOiBwYXJhbXMKICB9KTsKfTs="},{"version":3,"names":["axios","Message","router","service","create","responseType","interceptors","request","use","config","headers","window","sessionStorage","getItem","error","console","log","response","res","reg","RegExp","match","data","unitToString","fileDownload","require","fileName","split","contentType","decodeURIComponent","unitArray","encodedString","String","fromCharCode","apply","Uint8Array","decodedString","escape","JSON","parse","base","downloadRequest","url","params","method"],"sources":["D:/workplace/myProject/yeb/yeb1/yeb/yeb-font/src/utils/download.js"],"sourcesContent":["import axios from \"axios\";\nimport {Message} from \"element-ui\";\nimport router from \"../router\";\n\nconst service = axios.create({\n    responseType: \"arraybuffer\"\n})\n\nservice.interceptors.request.use(config => {\n    config.headers['Authorization']=window.sessionStorage.getItem('tokenStr');\n        return config;\n    },error => {\n        console.log(error)\n})\n\nservice.interceptors.response.use(res => {\n    const headers = res.headers;\n    let reg = RegExp('/application\\/json/')\n    if (headers['content-type'].match(reg)){\n        res.data = unitToString(res.data)\n    }else {\n        let fileDownload = require('js-file-download')\n        let fileName = headers['content-disposition'].split(';')[1].split('filename=')[1]\n        let contentType = headers['content-type']\n        fileName = decodeURIComponent(fileName)\n        fileDownload(res.data,fileName,contentType)\n    }\n\n}, error => {\n    console.log(error)\n});\n\nfunction unitToString(unitArray) {\n    let encodedString = String.fromCharCode.apply(null,new Uint8Array(unitArray))\n    let decodedString = decodeURIComponent(escape(encodedString));\n    return JSON.parse(decodedString)\n}\n\nlet base = ''\nexport const downloadRequest=(url,params) => {\n    return service({\n        method: 'get',\n        url: `${base}${url}`,\n        data: params\n    })\n}"],"mappings":";;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,OAAO,QAAO,YAAY;AAClC,OAAOC,MAAM,MAAM,WAAW;AAE9B,MAAMC,OAAO,GAAGH,KAAK,CAACI,MAAM,CAAC;EACzBC,YAAY,EAAE;AAClB,CAAC,CAAC;AAEFF,OAAO,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAACC,MAAM,IAAI;EACvCA,MAAM,CAACC,OAAO,CAAC,eAAe,CAAC,GAACC,MAAM,CAACC,cAAc,CAACC,OAAO,CAAC,UAAU,CAAC;EACrE,OAAOJ,MAAM;AACjB,CAAC,EAACK,KAAK,IAAI;EACPC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;AAC1B,CAAC,CAAC;AAEFX,OAAO,CAACG,YAAY,CAACW,QAAQ,CAACT,GAAG,CAACU,GAAG,IAAI;EACrC,MAAMR,OAAO,GAAGQ,GAAG,CAACR,OAAO;EAC3B,IAAIS,GAAG,GAAGC,MAAM,CAAC,qBAAqB,CAAC;EACvC,IAAIV,OAAO,CAAC,cAAc,CAAC,CAACW,KAAK,CAACF,GAAG,CAAC,EAAC;IACnCD,GAAG,CAACI,IAAI,GAAGC,YAAY,CAACL,GAAG,CAACI,IAAI,CAAC;EACrC,CAAC,MAAK;IACF,IAAIE,YAAY,GAAGC,OAAO,CAAC,kBAAkB,CAAC;IAC9C,IAAIC,QAAQ,GAAGhB,OAAO,CAAC,qBAAqB,CAAC,CAACiB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACA,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;IACjF,IAAIC,WAAW,GAAGlB,OAAO,CAAC,cAAc,CAAC;IACzCgB,QAAQ,GAAGG,kBAAkB,CAACH,QAAQ,CAAC;IACvCF,YAAY,CAACN,GAAG,CAACI,IAAI,EAACI,QAAQ,EAACE,WAAW,CAAC;EAC/C;AAEJ,CAAC,EAAEd,KAAK,IAAI;EACRC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;AACtB,CAAC,CAAC;AAEF,SAASS,YAAY,CAACO,SAAS,EAAE;EAC7B,IAAIC,aAAa,GAAGC,MAAM,CAACC,YAAY,CAACC,KAAK,CAAC,IAAI,EAAC,IAAIC,UAAU,CAACL,SAAS,CAAC,CAAC;EAC7E,IAAIM,aAAa,GAAGP,kBAAkB,CAACQ,MAAM,CAACN,aAAa,CAAC,CAAC;EAC7D,OAAOO,IAAI,CAACC,KAAK,CAACH,aAAa,CAAC;AACpC;AAEA,IAAII,IAAI,GAAG,EAAE;AACb,OAAO,MAAMC,eAAe,GAAC,CAACC,GAAG,EAACC,MAAM,KAAK;EACzC,OAAOxC,OAAO,CAAC;IACXyC,MAAM,EAAE,KAAK;IACbF,GAAG,EAAG,GAAEF,IAAK,GAAEE,GAAI,EAAC;IACpBpB,IAAI,EAAEqB;EACV,CAAC,CAAC;AACN,CAAC"}]}