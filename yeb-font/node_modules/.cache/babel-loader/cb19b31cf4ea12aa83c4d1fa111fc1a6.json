{"remainingRequest":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\babel-loader\\lib\\index.js!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\views\\sys\\SysAdmin.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\views\\sys\\SysAdmin.vue","mtime":1666527853824},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\babel.config.js","mtime":1666527853821},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666529050686},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\babel-loader\\lib\\index.js","mtime":1666529051466},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666529050686},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js","mtime":1666529052140}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTeXNBZG1pbiIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFkbWluczogW10sCiAgICAgIGtleXdvcmRzOiAnJwogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRBZG1pbigpOwogIH0sCiAgbWV0aG9kczogewogICAgZW5hYmxlQ2hhbmdlKGl0ZW0pIHsKICAgICAgbGV0IGFkbWluID0gewogICAgICAgIGlkOiAnJywKICAgICAgICBlbmFibGVkOiBmYWxzZQogICAgICB9OwogICAgICBhZG1pbi5pZCA9IGl0ZW0uaWQ7CiAgICAgIGFkbWluLmVuYWJsZWQgPSBpdGVtLmVuYWJsZWQ7CiAgICAgIGNvbnNvbGUubG9nKGl0ZW0udXNlcm5hbWUpOwogICAgICB0aGlzLnBvc3RSZXF1ZXN0KCcvc3lzdGVtL2FkbWluL3VwZGF0ZS8nLCBhZG1pbikudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgIHRoaXMuaW5pdEFkbWluKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVBZG1pbihhZG1pbikgewogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTjgJAnICsgYWRtaW4ubmFtZSArICfjgJHnrqHnkIblkZgsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy5kZWxldGVSZXF1ZXN0KCcvc3lzdGVtL2FkbWluL2RlbGV0ZS8nICsgYWRtaW4uaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgICAgdGhpcy5pbml0QWRtaW4oKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgc2VhcmNoKCkgewogICAgICB0aGlzLmluaXRBZG1pbigpOwogICAgfSwKICAgIGluaXRBZG1pbigpIHsKICAgICAgdGhpcy5nZXRSZXF1ZXN0KCcvc3lzdGVtL2FkbWluL2xpc3RBbGwvP2tleXdvcmRzPScgKyB0aGlzLmtleXdvcmRzKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgdGhpcy5hZG1pbnMgPSByZXM7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":"AA+CA;EACAA;EACAC;IACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MACA;QACAC;QACAC;MACA;MACAC;MACAA;MACAC;MACA;QACA;UACA;QACA;MACA;IACA;IACAC;MACA;QACAC;QACAC;QACAC;MACA;QACA;UACA;YACA;UACA;QACA;MACA;QACA;UACAA;UACAC;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QACA;UACA;QACA;MACA;IACA;EACA;AACA","names":["name","data","admins","keywords","mounted","methods","enableChange","id","enabled","admin","console","deleteAdmin","confirmButtonText","cancelButtonText","type","message","search","initAdmin"],"sourceRoot":"src/views/sys","sources":["SysAdmin.vue"],"sourcesContent":["<template>\n    <div>\n        <div style=\"display: flex;justify-content: center;margin-top: 10px\">\n            <el-input v-model=\"keywords\"\n                    placeholder=\"通过用户名搜索用户...\"\n                    prefix-icon=\"el-icon-search\"\n                    style=\"width: 500px\"\n                    @keydown.enter.native=\"search\"\n            ></el-input>\n        </div>\n        <div class=\"admin-container\">\n            <el-card class=\"admin-card\" v-for=\"(admin,index) in admins\" :key=\"index\">\n                <div slot=\"header\" class=\"clearfix\">\n                    <span>{{admin.name}}</span>\n                    <el-button style=\"float: right;padding: 3px 0;color: red\" type=\"text\" icon=\"el-icon-delete\" @click=\"deleteAdmin(admin)\"></el-button>\n                </div>\n                <div class=\"img-container\">\n                    <img :name=\"admin.name\" :title=\"admin.name\"  :src=\"admin.userFace\" class=\"admin-image\">\n                </div>\n                <div  class=\"userinfo\">\n                    <div>用户名:{{admin.name}}</div>\n                    <div>手机号码:{{admin.phone}}</div>\n                    <div>电话号码:{{admin.telephone}}</div>\n                    <div>地址:{{admin.address}}</div>\n                    <div>用户状态:\n                        <el-switch\n                                style=\"margin-left: 10px\"\n                                v-model=\"admin.enabled\"\n                                @change=\"enableChange(admin)\"\n                                active-color=\"#13ce66\"\n                                inactive-color=\"#ff4949\"\n                                active-text=\"启用\"\n                                inactive-text=\"暂不启用\">\n                        </el-switch>\n                    </div>\n                    <div>\n                        用户角色: <el-tag style=\"margin-right: 4px\" type=\"success\" v-for=\"(item,index) in admin.roles\">{{item.nameZh}}</el-tag>\n                        <el-button type=\"text\" icon=\"el-icon-more\"></el-button>\n                    </div>\n                    <div>备注:{{admin.remark}}</div>\n                </div>\n            </el-card>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"SysAdmin\",\n        data(){\n            return{\n                admins: [],\n                keywords: ''\n            }\n        },\n        mounted() {\n            this.initAdmin();\n        },\n        methods: {\n            enableChange(item){\n                let admin = {\n                    id: '',\n                    enabled: false\n                }\n                admin.id = item.id\n                admin.enabled = item.enabled\n                console.log(item.username);\n                this.postRequest('/system/admin/update/',admin).then(res=> {\n                    if (res) {\n                        this.initAdmin();\n                    }\n                })\n            },\n            deleteAdmin(admin){\n                this.$confirm('此操作将永久删除【'+admin.name+'】管理员, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    this.deleteRequest('/system/admin/delete/'+admin.id).then(res=>{\n                        if (res){\n                            this.initAdmin();\n                        }\n                    })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n            },\n            search(){\n                this.initAdmin();\n            },\n            initAdmin(){\n                this.getRequest('/system/admin/listAll/?keywords='+this.keywords).then(res =>{\n                    if (res){\n                        this.admins = res\n                    }\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .admin-container{\n        display: flex;\n        justify-content: space-around;\n        flex-wrap: wrap;\n        margin-top: 10px;\n    }\n    .admin-card{\n        width: 350px;\n        margin-bottom: 20px;\n    }\n    .admin-image{\n        width: 72px;\n        height: 72px;\n        border-radius: 72px;\n    }\n    .img-container{\n        width: 100%;\n        display: flex;\n        justify-content: center;\n    }\n    .userinfo{\n        font-size: 12px;\n        color: #a6bed7;\n    }\n</style>\n"]}]}