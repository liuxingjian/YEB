{"remainingRequest":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\babel-loader\\lib\\index.js!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\components\\sys\\basic\\JoblevelMana.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\components\\sys\\basic\\JoblevelMana.vue","mtime":1666527853824},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\babel.config.js","mtime":1666527853821},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666529050686},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\babel-loader\\lib\\index.js","mtime":1666529051466},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666529050686},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js","mtime":1666529052140}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSm9ibGV2ZWxNYW5hIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgamw6IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICB0aXRsZUxldmVsOiAnJwogICAgICB9LAogICAgICB1cGRhdGVKbDogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHRpdGxlTGV2ZWw6ICcnLAogICAgICAgIGVuYWJsZWQ6IGZhbHNlCiAgICAgIH0sCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBtdWx0aXBsZVNlbGVjdGlvbjogW10sCiAgICAgIGpsczogW10sCiAgICAgIHRpdGxlTGV2ZWxzOiBbJ+ato+mrmOe6pycsICflia/pq5jnuqcnLCAn5Lit57qnJywgJ+WInee6pycsICfpq5jnuqcnXQogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRKbHMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRlbGV0ZUJhdGNoKCkgewogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTjgJAnICsgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5sZW5ndGggKyAn44CR5p2h6IGM56ewLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIC8v5oqKaWTmlL7lnKhpZHPmlbDnu4Tph4zpnaIKICAgICAgICBsZXQgaWRzID0gW107CiAgICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgaWRzLnB1c2goaXRlbS5pZCk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5kZWxldGVSZXF1ZXN0KCcvc3lzdGVtL2Jhc2ljL2pvYmxldmVsL2RlbGV0ZUJhdGNoLz9pZHM9JyArIGlkcykudGhlbihyZXNwID0+IHsKICAgICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICAgIHRoaXMuaW5pdEpscygpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24gPSB2YWw7CiAgICB9LAogICAgZG9VcGRhdGUoKSB7CiAgICAgIHRoaXMucG9zdFJlcXVlc3QoJy9zeXN0ZW0vYmFzaWMvam9ibGV2ZWwvdXBkYXRlLycsIHRoaXMudXBkYXRlSmwpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgaWYgKHJlc3ApIHsKICAgICAgICAgIHRoaXMuaW5pdEpscygpOwogICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBhZGRKb2JMZXZlbCgpIHsKICAgICAgaWYgKHRoaXMuamwubmFtZSAmJiB0aGlzLmpsLnRpdGxlTGV2ZWwpIHsKICAgICAgICB0aGlzLnBvc3RSZXF1ZXN0KCcvc3lzdGVtL2Jhc2ljL2pvYmxldmVsL2FkZC8nLCB0aGlzLmpsKS50aGVuKHJlc3AgPT4gewogICAgICAgICAgaWYgKHJlc3ApIHsKICAgICAgICAgICAgdGhpcy5pbml0SmxzKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+36L6T5YWl6IGM56ew5ZCNIScpOwogICAgICB9CiAgICB9LAogICAgaW5pdEpscygpIHsKICAgICAgdGhpcy5nZXRSZXF1ZXN0KCcvc3lzdGVtL2Jhc2ljL2pvYmxldmVsL2xpc3RBbGwnKS50aGVuKHJlc3AgPT4gewogICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICB0aGlzLmpscyA9IHJlc3A7CiAgICAgICAgICB0aGlzLmpsID0gewogICAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgICAgdGl0bGVMZXZlbDogJycKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzaG93RWRpdFZpZXcoZGF0YSkgewogICAgICBPYmplY3QuYXNzaWduKHRoaXMudXBkYXRlSmwsIGRhdGEpOwogICAgICB0aGlzLnVwZGF0ZUpsLmNyZWF0ZURhdGUgPSAnJzsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBkZWxldGVIYW5kbGVyKGRhdGEpIHsKICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk44CQJyArIGRhdGEubmFtZSArICfjgJHogYznp7AsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy5kZWxldGVSZXF1ZXN0KCcvc3lzdGVtL2Jhc2ljL2pvYmxldmVsL2RlbGV0ZS8nICsgZGF0YS5pZCkudGhlbihyZXNwID0+IHsKICAgICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICAgIHRoaXMuaW5pdEpscygpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";AA2IA;EACAA;EACAC;IACA;MACAC;QACAF;QACAG;MACA;MACAC;QACAJ;QACAG;QACAE;MACA;MACAC;MACAC;MACAC;MACAC,cACA,OACA,OACA,MACA,MACA;IAEA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MACA;QACAC;QACAC;QACAC;MACA;QACA;QACA;QACA;UACAC;QACA;QACA;UACA;YACA;UACA;QACA;MACA;QACA;UACAD;UACAE;QACA;MACA;IAEA;IACAC;MACA;IACA;IACAC;MACA,uEACAC;QACA;UACA;UACA;QACA;MACA,EACA;IAEA;IACAC;MACA;QACA;UACA;YACA;UACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;QACA;UACA;UACA;YACAtB;YACAG;UACA;QACA;MACA;IACA;IACAoB;MACAC;MACA;MACA;IACA;IACAC;MACA;QACAZ;QACAC;QACAC;MACA;QACA;UACA;YACA;UACA;QACA;MACA;QACA;UACAA;UACAE;QACA;MACA;IAEA;EACA;AACA","names":["name","data","jl","titleLevel","updateJl","enabled","dialogVisible","multipleSelection","jls","titleLevels","mounted","methods","deleteBatch","confirmButtonText","cancelButtonText","type","ids","message","handleSelectionChange","doUpdate","resp","addJobLevel","initJls","showEditView","Object","deleteHandler"],"sourceRoot":"src/components/sys/basic","sources":["JoblevelMana.vue"],"sourcesContent":["<template>\n    <div>\n        <div>\n            <el-input\n                    class=\"addJlInput\"\n                    size=\"small\"\n                    placeholder=\"添加职称\"\n                    suffix-icon=\"el-icon-plus\"\n                    v-model=jl.name>\n            </el-input>\n            <el-select size=\"small\" v-model=\"jl.titleLevel\" placeholder=\"职称等级\">\n                <el-option\n                        v-for=\"item in titleLevels\"\n                        :key=\"item\"\n                        :label=\"item\"\n                        :value=\"item\">\n                </el-option>\n            </el-select>\n            <el-button size=\"small\" type=\"primary\" icon=\"el-icon-plus\" style=\"margin-left: 10px\" @click=\"addJobLevel\">\n                添加职称\n            </el-button>\n        </div>\n        <div style=\"margin:10px 0px\">\n            <el-table\n                    border\n                    stripe\n                    :data=\"jls\"\n                    style=\"width: 100%;text-align: center\"\n                    @selection-change=\"handleSelectionChange\">\n                <el-table-column\n                        type=\"selection\"\n                        width=\"55\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"id\"\n                        label=\"编号\"\n                        width=\"55\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"name\"\n                        label=\"职称\"\n                        width=\"150\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"titleLevel\"\n                        label=\"职称等级\"\n                        width=\"150\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"createDate\"\n                        label=\"创建时间\"\n                        width=\"150\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"enabled\"\n                        label=\"是否启用\"\n                        width=\"120\">\n                    <template slot-scope=\"scope\">\n                        <el-tag v-if=\"scope.row.enabled\" type=\"success\">已启用</el-tag>\n                        <el-tag v-else type=\"danger\">未启用</el-tag>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"操作\">\n                    <template slot-scope=\"scope\">\n                        <el-button\n                                size=\"small\"\n                                @click=\"showEditView(scope.row)\">编辑\n                        </el-button>\n                        <el-button\n                                size=\"small\"\n                                type=\"danger\"\n                                @click=\"deleteHandler(scope.row)\">删除\n                        </el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n             \n            <el-button type=\"danger\" size=\"small\" style=\"margin-top: 10px\"\n                       :disabled=\"multipleSelection.length === 0\"\n                       @click=\"deleteBatch\">批量删除\n                           \n            </el-button>\n        </div>\n        <el-dialog\n                title=\"职称编辑\"\n                :visible.sync=\"dialogVisible\"\n                width=\"30%\"\n        >\n            <div>\n                <table>\n                    <tr>\n                        <td>\n                            <el-tag>职称</el-tag>\n                        </td>\n                        <td>\n                            <input v-model=\"updateJl.name\"></input>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <el-tag>职称级别</el-tag>\n                        </td>\n                        <td>\n                            <el-select size=\"small\" v-model=\"updateJl.titleLevel\" placeholder=\"职称等级\">\n                                <el-option\n                                        v-for=\"item in titleLevels\"\n                                        :key=\"item\"\n                                        :label=\"item\"\n                                        :value=\"item\">\n                                </el-option>\n                            </el-select>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <el-tag>是否启用</el-tag>\n                        </td>\n                        <td>\n                            <el-switch\n                                    v-model=\"updateJl.enabled\"\n                                    active-color=\"#13ce66\"\n                                    inactive-color=\"#ff4949\"\n                                    active-text=\"启用\"\n                                    inactive-text=\"禁用\">\n                            </el-switch>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n            <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"doUpdate\">确 定</el-button>\n  </span>\n        </el-dialog>\n\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"JoblevelMana\",\n        data() {\n            return {\n                jl: {\n                    name: '',\n                    titleLevel: ''\n                },\n                updateJl: {\n                    name: '',\n                    titleLevel: '',\n                    enabled: false\n                },\n                dialogVisible: false,\n                multipleSelection: [],\n                jls: [],\n                titleLevels: [\n                    '正高级',\n                    '副高级',\n                    '中级',\n                    '初级',\n                    '高级'\n                ]\n            }\n        },\n        mounted() {\n            this.initJls();\n        },\n        methods: {\n            deleteBatch() {\n                this.$confirm('此操作将永久删除【' + this.multipleSelection.length + '】条职称, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    //把id放在ids数组里面\n                    let ids = [];\n                    this.multipleSelection.forEach(item => {\n                        ids.push(item.id);\n                    });\n                    this.deleteRequest('/system/basic/joblevel/deleteBatch/?ids='+ids).then(resp => {\n                        if (resp) {\n                            this.initJls();\n                        }\n                    })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n\n            },\n            handleSelectionChange(val) {\n                this.multipleSelection = val;\n            },\n            doUpdate() {\n                this.postRequest('/system/basic/joblevel/update/', this.updateJl).then(\n                    resp => {\n                        if (resp) {\n                            this.initJls();\n                            this.dialogVisible = false;\n                        }\n                    }\n                )\n\n            },\n            addJobLevel() {\n                if (this.jl.name && this.jl.titleLevel) {\n                    this.postRequest('/system/basic/joblevel/add/', this.jl).then(resp => {\n                        if (resp) {\n                            this.initJls();\n                        }\n                    })\n                } else {\n                    this.$message.error('请输入职称名!')\n                }\n            },\n            initJls() {\n                this.getRequest('/system/basic/joblevel/listAll').then(resp => {\n                    if (resp) {\n                        this.jls = resp;\n                        this.jl = {\n                            name: '',\n                            titleLevel: ''\n                        }\n                    }\n                })\n            },\n            showEditView(data) {\n                Object.assign(this.updateJl, data);\n                this.updateJl.createDate = '';\n                this.dialogVisible = true;\n            },\n            deleteHandler(data) {\n                this.$confirm('此操作将永久删除【' + data.name + '】职称, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    this.deleteRequest('/system/basic/joblevel/delete/' + data.id).then(resp => {\n                        if (resp) {\n                            this.initJls();\n                        }\n                    })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .addJlInput {\n        width: 300px;\n        margin-right: 10px;\n    }\n\n</style>\n"]}]}