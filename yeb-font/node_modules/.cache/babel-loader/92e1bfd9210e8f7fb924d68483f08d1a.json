{"remainingRequest":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\babel-loader\\lib\\index.js!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\components\\sys\\basic\\PosMana.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\components\\sys\\basic\\PosMana.vue","mtime":1666527853824},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\babel.config.js","mtime":1666527853821},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666529050686},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\babel-loader\\lib\\index.js","mtime":1666529051466},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666529050686},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js","mtime":1666529052140}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUG9zTWFuYSIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBvczogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGVuYWJsZWQ6ICcnCiAgICAgIH0sCiAgICAgIHVwZGF0ZVBvczogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGVuYWJsZWQ6ICcnCiAgICAgIH0sCiAgICAgIHBvc2l0aW9uczogW10sCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBtdWx0aXBsZVNlbGVjdGlvbjogW10KICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5pbml0UG9zaXRpb25zKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBkZWxldGVCYXRjaCgpIHsKICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk44CQJyArIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24ubGVuZ3RoICsgJ+OAkeiBjOS9jSwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICBsZXQgaWRzID0gW107CiAgICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgLy8gaWRzKz0naWRzPScraXRlbS5pZCsnJicKICAgICAgICAgIGlkcy5wdXNoKGl0ZW0uaWQpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuZGVsZXRlUmVxdWVzdCgnL3N5c3RlbS9iYXNpYy9wb3MvZGVsZXRlQmF0Y2gvP2lkcz0nICsgaWRzKS50aGVuKHJlc3AgPT4gewogICAgICAgICAgY29uc29sZS5sb2coaWRzKTsKICAgICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICAgIHRoaXMuaW5pdFBvc2l0aW9ucygpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24gPSB2YWw7CiAgICB9LAogICAgc2hvd0VkaXRWaWV3KGluZGV4LCBkYXRhKSB7CiAgICAgIC8vIHRoaXMudXBkYXRlUG9zPWRhdGE7CiAgICAgIC8v5oqKZGF0YeaVsOaNruaLt+i0nee7mXVwZGF0ZVBvc+WbnuaYvuWIsOabtOaWsOahhgogICAgICBPYmplY3QuYXNzaWduKHRoaXMudXBkYXRlUG9zLCBkYXRhKTsKICAgICAgdGhpcy51cGRhdGVQb3MuY3JlYXRlRGF0ZSA9ICcnOwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGRvVXBkYXRlKCkgewogICAgICB0aGlzLnBvc3RSZXF1ZXN0KCcvc3lzdGVtL2Jhc2ljL3Bvcy91cGRhdGUvJywgdGhpcy51cGRhdGVQb3MpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgaWYgKHJlc3ApIHsKICAgICAgICAgIHRoaXMuaW5pdFBvc2l0aW9ucygpOwogICAgICAgICAgdGhpcy51cGRhdGVQb3MubmFtZSA9ICcnOwogICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVEZWxldGUoaW5kZXgsIGRhdGEpIHsKICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk44CQJyArIGRhdGEubmFtZSArICfjgJHogYzkvY0sIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy5kZWxldGVSZXF1ZXN0KCcvc3lzdGVtL2Jhc2ljL3Bvcy9kZWxldGUvJyArIGRhdGEuaWQpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgICBpZiAocmVzcCkgewogICAgICAgICAgICB0aGlzLmluaXRQb3NpdGlvbnMoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkUG9zaXRpb24oKSB7CiAgICAgIGlmICh0aGlzLnBvcy5uYW1lKSB7CiAgICAgICAgdGhpcy5wb3N0UmVxdWVzdCgnL3N5c3RlbS9iYXNpYy9wb3MvYWRkLycsIHRoaXMucG9zKS50aGVuKHJlc3AgPT4gewogICAgICAgICAgaWYgKHJlc3ApIHsKICAgICAgICAgICAgdGhpcy5pbml0UG9zaXRpb25zKCk7CiAgICAgICAgICAgIHRoaXMucG9zLm5hbWUgPSAnJzsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmt7vliqDogYzkvY3kuI3og73kuLrnqboiKTsKICAgICAgfQogICAgfSwKICAgIGluaXRQb3NpdGlvbnMoKSB7CiAgICAgIHRoaXMuZ2V0UmVxdWVzdCgnL3N5c3RlbS9iYXNpYy9wb3MvbGlzdEFsbCcpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgaWYgKHJlc3ApIHsKICAgICAgICAgIHRoaXMucG9zaXRpb25zID0gcmVzcDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";AAsHA;EACAA;EACAC;IACA;MACAC;QACAF;QACAG;MACA;MACAC;QACAJ;QACAG;MACA;MACAE;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MACA;QACAC;QACAC;QACAC;MACA;QACA;QACA;UACA;UACAC;QACA;QACA;UACAC;UACA;YACA;UACA;QACA;MACA;QACA;UACAF;UACAG;QACA;MACA;IAGA;IACAC;MACA;IACA;IACAC;MACA;MACA;MACAC;MACA;MACA;IACA;IACAC;MACA;QACA;UACA;UACA;UACA;QACA;MACA;IAEA;IACAC;MACA;QACAV;QACAC;QACAC;MACA;QACA;UACA;YACA;UACA;QACA;MACA;QACA;UACAA;UACAG;QACA;MACA;IAEA;IACAM;MACA;QACA;UACA;YACA;YACA;UACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;QACA;UACA;QACA;MACA;IAEA;EAEA;AACA","names":["name","data","pos","enabled","updatePos","positions","dialogVisible","multipleSelection","mounted","methods","deleteBatch","confirmButtonText","cancelButtonText","type","ids","console","message","handleSelectionChange","showEditView","Object","doUpdate","handleDelete","addPosition","initPositions"],"sourceRoot":"src/components/sys/basic","sources":["PosMana.vue"],"sourcesContent":["<template>\n<div>\n    <div>\n        <el-input\n                class=\"addPosInput\"\n                size=\"small\"\n                @keydown.enter.native=\"addPosition\"\n                placeholder=\"添加职位\"\n                suffix-icon=\"el-icon-plus\"\n                v-model=pos.name>\n        </el-input>\n        <el-switch\n                style=\"margin:0 10px\"\n                v-model=\"pos.enabled\"\n                active-color=\"#13ce66\"\n                inactive-color=\"#ff4949\"\n                active-text=\"启用\"\n                inactive-text=\"暂不启用\">\n        </el-switch>\n\n        <el-button size=\"small\" icon=\"el-icon-plus\" type=\"primary\" @click=\"addPosition\">添加</el-button>\n    </div>\n    <div class=\"posManaMain\">\n        <el-table\n                :data=\"positions\"\n                stripe\n                border\n                style=\"width: 100%;text-align: center\"\n                @selection-change=\"handleSelectionChange\">>\n            <el-table-column\n                    type=\"selection\"\n                    width=\"55\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"id\"\n                    label=\"编号\"\n                    width=\"55\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"name\"\n                    label=\"职位\"\n                    width=\"150\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"createDate\"\n                    label=\"创建时间\"\n                    width=\"150\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"enabled\"\n                    label=\"是否启用\"\n                    width=\"150\">\n                <template slot-scope=\"scope\">\n                    <el-tag v-if=\"scope.row.enabled\" type=\"success\">已启用</el-tag>\n                    <el-tag v-else type=\"danger\">未启用</el-tag>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"操作\">\n                <template slot-scope=\"scope\">\n                    <el-button\n                            size=\"mini\"\n                            @click=\"showEditView(scope.$index, scope.row)\">编辑</el-button>\n                    <el-button\n                            size=\"mini\"\n                            type=\"danger\"\n                            @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n        <el-button style=\"margin-top: 8px;margin-inside: 30px\"\n                   type=\"danger\" size=\"small\"\n                   :disabled=\"this.multipleSelection.length === 0\"\n                   @click=\"deleteBatch\">\n                   批量删除\n        </el-button>\n    </div>\n    <el-dialog\n            title=\"职位编辑\"\n            :visible.sync=\"dialogVisible\"\n            width=\"30%\">\n           <div>\n               <table>\n                   <tr>\n                       <td>\n                           <el-tag>职位名称:</el-tag>\n                       </td>\n                       <td>\n                           <el-input v-model=\"updatePos.name\" size=\"small\"\n                                     class=\"updatePosInput\"></el-input>\n                       </td>\n                   </tr>\n                   <tr>\n                       <td>\n                           <el-tag>是否启用:</el-tag>\n                       </td>\n                       <td>\n                           <el-switch\n                                   style=\"margin-left: 10px\"\n                                   v-model=\"updatePos.enabled\"\n                                   active-color=\"#13ce66\"\n                                   inactive-color=\"#ff4949\"\n                                   active-text=\"启用\"\n                                   inactive-text=\"暂不启用\">\n                           </el-switch>\n                       </td>\n                   </tr>\n               </table>\n           </div>\n            <span slot=\"footer\" class=\"dialog-footer\">\n            <el-button size=\"small\" @click=\"dialogVisible = false\">取 消</el-button>\n            <el-button size=\"small\" type=\"primary\" @click=\"doUpdate\">确 定</el-button>\n          </span>\n    </el-dialog>\n\n</div>\n</template>\n\n<script>\n    export default {\n        name: \"PosMana\",\n        data(){\n            return{\n               pos:{\n                   name:'',\n                   enabled:'',\n               },\n                updatePos:{\n                    name:'',\n                    enabled:''\n                },\n                positions:[],\n                dialogVisible:false,\n                multipleSelection: []\n            }\n        },\n        mounted() {\n          this.initPositions();\n        },\n        methods:{\n            deleteBatch(){\n                this.$confirm('此操作将永久删除【'+this.multipleSelection.length+'】职位, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    let ids=[];\n                    this.multipleSelection.forEach(item=>{\n                        // ids+='ids='+item.id+'&'\n                        ids.push(item.id);\n                    });\n                    this.deleteRequest('/system/basic/pos/deleteBatch/?ids='+ids).then(resp=>{\n                        console.log(ids);\n                        if (resp){\n                            this.initPositions();\n                        }\n                    })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n\n\n            },\n            handleSelectionChange(val){\n                this.multipleSelection=val;\n            },\n            showEditView(index,data){\n                // this.updatePos=data;\n                //把data数据拷贝给updatePos回显到更新框\n                Object.assign(this.updatePos,data);\n                this.updatePos.createDate='';\n                this.dialogVisible=true;\n            },\n            doUpdate(){\n                this.postRequest('/system/basic/pos/update/',this.updatePos).then(resp=>{\n                    if (resp){\n                        this.initPositions();\n                        this.updatePos.name='';\n                        this.dialogVisible=false;\n                    }\n                })\n\n            },\n            handleDelete(index,data){\n                this.$confirm('此操作将永久删除【'+data.name+'】职位, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                   this.deleteRequest('/system/basic/pos/delete/'+data.id).then(resp=>{\n                       if (resp){\n                           this.initPositions();\n                       }\n                   })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n\n            },\n            addPosition(){\n              if (this.pos.name){\n                  this.postRequest('/system/basic/pos/add/',this.pos).then(resp=>{\n                      if (resp){\n                         this.initPositions();\n                         this.pos.name='';\n                      }\n                  })\n              }else {\n                  this.$message.error(\"添加职位不能为空\")\n              }\n            },\n            initPositions(){\n                this.getRequest('/system/basic/pos/listAll').then(resp=>{\n                    if (resp){\n                        this.positions=resp;\n                    }\n                })\n\n            }\n\n        }\n    }\n</script>\n\n<style scoped>\n  .addPosInput{\n        width: 300px;\n        margin-right: 8px;\n    }\n    .posManaMain{\n        margin-top: 10px;\n    }\n    .updatePosInput{\n        width: 200px;\n        margin-left: 8px;\n    }\n\n</style>\n"]}]}