{"remainingRequest":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\thread-loader\\dist\\cjs.js!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\babel-loader\\lib\\index.js!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\views\\home\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\views\\home\\Login.vue","mtime":1666527853824},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\babel.config.js","mtime":1666527853821},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666529050686},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1666529050686},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\babel-loader\\lib\\index.js","mtime":1666529051466},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666529050686},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js","mtime":1666529052140}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhcHRjaGFVcmw6ICcvY2FwdGNoYT90aW1lPScgKyBuZXcgRGF0ZSgpLAogICAgICBsb2dpbkZvcm06IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIGNvZGU6ICcnCiAgICAgIH0sCiAgICAgIGNoZWNrZWQ6IHRydWUsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBsb2dpblJ1bGU6IHsKICAgICAgICB1c2VybmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeeUqOaIt+WQjScsCiAgICAgICAgICB0cmlnZ2VyOiBibHVyCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlr4bnoIEnLAogICAgICAgICAgdHJpZ2dlcjogYmx1cgogICAgICAgIH1dLAogICAgICAgIGNvZGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXpqozor4HnoIEnLAogICAgICAgICAgdHJpZ2dlcjogYmx1cgogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVDYXB0Y2hhKCkgewogICAgICB0aGlzLmNhcHRjaGFVcmwgPSAnL2NhcHRjaGE/dGltZT0nICsgbmV3IERhdGUoKTsKICAgIH0sCiAgICBzdWJtaXRMb2dpbigpIHsKICAgICAgdGhpcy4kcmVmcy5sb2dpbkZvcm0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgIHRoaXMucG9zdFJlcXVlc3QoJy9sb2dpbicsIHRoaXMubG9naW5Gb3JtKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAvL+WtmOWCqOeUqOaIt3Rva2VuCiAgICAgICAgICAgICAgY29uc3QgdG9rZW5TdHIgPSByZXMub2JqLnRva2VuSGVhZCArIHJlcy5vYmoudG9rZW47CiAgICAgICAgICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3Rva2VuU3RyJywgdG9rZW5TdHIpOwoKICAgICAgICAgICAgICAvL+i3s+i9rOmhtemdogogICAgICAgICAgICAgIGxldCBwYXRoID0gdGhpcy4kcm91dGUucXVlcnkucmVkaXJlY3Q7CiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UocGF0aCA9PT0gJy8nIHx8IHBhdGggPT09IHVuZGVmaW5lZCA/ICcvaG9tZScgOiBwYXRoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgnLycpOwogICAgICAgICAgICAgIHRoaXMudXBkYXRlQ2FwdGNoYSgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+35a6M5ZaE6KGo5Y2V5L+h5oGvJyk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":"AAgCA;EACAA;EACAC;IACA;MACAC;MACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;QACAL;UAAAM;UAAAC;UAAAC;QAAA;QACAP;UAAAK;UAAAC;UAAAC;QAAA;QACAN;UAAAI;UAAAC;UAAAC;QAAA;MACA;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;QACA;UACA;UACA;YACA;cACA;cACA;cACA;cACAC;;cAEA;cACA;cACA,qBACAC;YACA;cACA;cACA;cACA;YACA;UACA;QACA;UACA;UACA;QACA;MACA;IACA;EACA;AAEA","names":["name","data","captchaUrl","loginForm","username","password","code","checked","loading","loginRule","required","message","trigger","methods","updateCaptcha","submitLogin","window","path"],"sourceRoot":"src/views/home","sources":["Login.vue"],"sourcesContent":["<template>\n    <div>\n        <el-form\n                :rules=\"loginRule\"\n                ref=\"loginForm\"\n                :model=\"loginForm\"\n                class=\"loginStyle\"\n                v-loading=\"loading\"\n                element-loading-text=\"正在登陆中...\"\n                element-loading-spinner=\"el-icon-loading\"\n                element-loading-background=\"rgba(0, 0, 0, 0.8)\"\n        >\n            <h3 class=\"loginTitle\">系统登录</h3>\n            <el-form-item  prop=\"username\">\n                <el-input type=\"text\" v-model=\"loginForm.username\" placeholder=\"请输入用户名\"\n                          auto-complete=\"false\"></el-input>\n            </el-form-item>\n            <el-form-item  prop=\"password\">\n                <el-input type=\"password\" v-model=\"loginForm.password\" placeholder=\"请输入密码\"\n                          auto-complete=\"false\"></el-input>\n            </el-form-item>\n            <el-form-item  prop=\"code\">\n                <el-input style=\"width: 250px;margin-right: 5px\"  type=\"text\" v-model=\"loginForm.code\" @keydown.enter.native=\"submitLogin\" placeholder=\"点击图片获取验证码\" auto-complete=\"false\"></el-input>\n                <img :src=\"captchaUrl\" @click=\"updateCaptcha\">\n            </el-form-item>\n            <el-checkbox v-model=\"checked\" class=\"loginRemember\">记住我</el-checkbox>\n            <el-button type=\"primary\" style=\"width: 100%\" @click=\"submitLogin\">登录</el-button>\n        </el-form>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"Login\",\n        data() {\n            return {\n                captchaUrl: '/captcha?time=' + new Date(),\n                loginForm: {\n                    username: '',\n                    password: '',\n                    code: ''\n                },\n                checked: true,\n                loading: false,\n                loginRule: {\n                    username: [{required: true, message: '请输入用户名', trigger: blur}],\n                    password: [{required: true, message: '请输入密码', trigger: blur}],\n                    code: [{required: true, message: '请输入验证码', trigger: blur}],\n                }\n            }\n        },\n        methods: {\n            updateCaptcha(){\n                this.captchaUrl = '/captcha?time=' + new Date();\n            },\n            submitLogin() {\n                this.$refs.loginForm.validate((valid) => {\n                    if (valid) {\n                        this.loading = true\n                        this.postRequest('/login',this.loginForm).then(res=>{\n                           if (res){\n                               this.loading = false\n                               //存储用户token\n                               const tokenStr = res.obj.tokenHead + res.obj.token;\n                               window.sessionStorage.setItem('tokenStr',tokenStr);\n\n                               //跳转页面\n                               let path = this.$route.query.redirect;\n                               this.$router.replace(\n                                   (path === '/' || path === undefined) ? '/home' : path);\n                           }else {\n                               this.loading = false\n                               this.$router.replace('/')\n                               this.updateCaptcha();\n                           }\n                        })\n                    } else {\n                        this.$message.error('请完善表单信息');\n                        return false;\n                    }\n                });\n            }\n        }\n\n    }\n</script>\n\n<style>\n    .loginStyle {\n        border-radius: 15px;\n        background-clip: padding-box;\n        margin: 180px auto;\n        width: 350px;\n        padding: 15px 35px 15px 35px;\n        background: white;\n        border: 1px solid #eaeaea;\n        box-shadow: 0 0 25px #cac6c6;\n    }\n    .loginTitle {\n        text-align: center;\n    }\n    .loginRemember {\n        text-align: left;\n        margin: 0px 0px 15px 0px;\n    }\n    .el-form-item__content{\n        display: flex;\n        align-items: center;\n    }\n\n</style>\n"]}]}