{"remainingRequest":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\thread-loader\\dist\\cjs.js!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\babel-loader\\lib\\index.js!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\utils\\menus.js","dependencies":[{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\utils\\menus.js","mtime":1666858262324},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\babel.config.js","mtime":1666527853821},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666529050686},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1666529050686},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\babel-loader\\lib\\index.js","mtime":1666529051466}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IGdldFJlcXVlc3QgfSBmcm9tICIuL2FwaSI7CmV4cG9ydCBjb25zdCBpbml0TWVudSA9IChyb3V0ZXIsIHN0b3JlKSA9PiB7CiAgaWYgKHN0b3JlLnN0YXRlLnJvdXRlcy5sZW5ndGggPiAwKSB7CiAgICByZXR1cm47CiAgfQogIGdldFJlcXVlc3QoIi9zeXN0ZW0vY2ZnL21lbnUiKS50aGVuKHJlcyA9PiB7CiAgICBpZiAocmVzKSB7CiAgICAgIC8v5qC85byP5YyWcm91dGVyCiAgICAgIGxldCBmbXRSb3V0ZXMgPSBmb3JtYXRSb3V0ZXMocmVzKTsKICAgICAgLy/mt7vliqDliLByb3V0ZXIKICAgICAgcm91dGVyLmFkZFJvdXRlcyhmbXRSb3V0ZXMpOwogICAgICAvL+WwhuaVsOaNruWtmOWFpXZ1ZXgKICAgICAgc3RvcmUuY29tbWl0KCdpbml0Um91dGVzJywgZm10Um91dGVzKTsKICAgICAgLy8g6L+e5o6ld2Vic29ja2V0CiAgICAgIHN0b3JlLmRpc3BhdGNoKCdjb25uZWN0Jyk7CiAgICB9CiAgfSkuY2F0Y2goZSA9PiB7CiAgICBjb25zb2xlLmxvZyhlKTsKICB9KTsKfTsKZXhwb3J0IGNvbnN0IGZvcm1hdFJvdXRlcyA9IHJvdXRlcyA9PiB7CiAgbGV0IGZtUm91dGVzID0gW107CiAgcm91dGVzLmZvckVhY2gocm91dGVyID0+IHsKICAgIGxldCB7CiAgICAgIHBhdGgsCiAgICAgIGNvbXBvbmVudCwKICAgICAgbmFtZSwKICAgICAgbWV0YSwKICAgICAgaWNvbkNscywKICAgICAgY2hpbGRyZW4KICAgIH0gPSByb3V0ZXI7CiAgICBpZiAoY2hpbGRyZW4gJiYgY2hpbGRyZW4gaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAvL+mAkuW9kgogICAgICBjaGlsZHJlbiA9IGZvcm1hdFJvdXRlcyhjaGlsZHJlbik7CiAgICB9CiAgICBsZXQgZm1Sb3V0ZXIgPSB7CiAgICAgIHBhdGg6IHBhdGgsCiAgICAgIG5hbWU6IG5hbWUsCiAgICAgIG1ldGE6IG1ldGEsCiAgICAgIGljb25DbHM6IGljb25DbHMsCiAgICAgIGNoaWxkcmVuOiBjaGlsZHJlbiwKICAgICAgY29tcG9uZW50KHJlc29sdmUpIHsKICAgICAgICBpZiAoY29tcG9uZW50LnN0YXJ0c1dpdGgoIkhvbWUiKSkgewogICAgICAgICAgcmVxdWlyZShbJy4uL3ZpZXdzL2hvbWUvJyArIGNvbXBvbmVudCArICcudnVlJ10sIHJlc29sdmUpOwogICAgICAgIH0gZWxzZSBpZiAoY29tcG9uZW50LnN0YXJ0c1dpdGgoIkVtcCIpKSB7CiAgICAgICAgICByZXF1aXJlKFsnLi4vdmlld3MvZW1wLycgKyBjb21wb25lbnQgKyAnLnZ1ZSddLCByZXNvbHZlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgICBmbVJvdXRlcy5wdXNoKGZtUm91dGVyKTsKICB9KTsKICByZXR1cm4gZm1Sb3V0ZXM7Cn07"},{"version":3,"names":["getRequest","initMenu","router","store","state","routes","length","then","res","fmtRoutes","formatRoutes","addRoutes","commit","dispatch","catch","e","console","log","fmRoutes","forEach","path","component","name","meta","iconCls","children","Array","fmRouter","resolve","startsWith","require","push"],"sources":["D:/workplace/myProject/yeb/yeb1/yeb/yeb-font/src/utils/menus.js"],"sourcesContent":["import {getRequest} from \"./api\";\n\n\n\nexport const initMenu = (router, store) => {\n    if (store.state.routes.length > 0) {\n        return;\n    }\n\n    getRequest(\"/system/cfg/menu\").then(res => {\n        if (res) {\n            //格式化router\n            let fmtRoutes = formatRoutes(res);\n            //添加到router\n            router.addRoutes(fmtRoutes);\n            //将数据存入vuex\n            store.commit('initRoutes', fmtRoutes);\n            // 连接websocket\n            store.dispatch('connect')\n        }\n    }).catch(e=>{\n        console.log(e)\n    });\n\n\n}\n\nexport const formatRoutes = (routes) => {\n    let fmRoutes = [];\n    routes.forEach(router => {\n        let {\n            path,\n            component,\n            name,\n            meta,\n            iconCls,\n            children,\n        } = router;\n        if (children && children instanceof Array) {\n            //递归\n            children = formatRoutes(children);\n        }\n        let fmRouter = {\n            path: path,\n            name: name,\n            meta: meta,\n            iconCls: iconCls,\n            children: children,\n            component(resolve) {\n                if (component.startsWith(\"Home\")){\n                    require(['../views/home/' + component + '.vue'], resolve);\n                }else if (component.startsWith(\"Emp\")) {\n                    require(['../views/emp/' + component + '.vue'], resolve);\n                } \n            }\n        }\n        fmRoutes.push(fmRouter);\n    })\n    return fmRoutes;\n}\n"],"mappings":";AAAA,SAAQA,UAAU,QAAO,OAAO;AAIhC,OAAO,MAAMC,QAAQ,GAAG,CAACC,MAAM,EAAEC,KAAK,KAAK;EACvC,IAAIA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACC,MAAM,GAAG,CAAC,EAAE;IAC/B;EACJ;EAEAN,UAAU,CAAC,kBAAkB,CAAC,CAACO,IAAI,CAACC,GAAG,IAAI;IACvC,IAAIA,GAAG,EAAE;MACL;MACA,IAAIC,SAAS,GAAGC,YAAY,CAACF,GAAG,CAAC;MACjC;MACAN,MAAM,CAACS,SAAS,CAACF,SAAS,CAAC;MAC3B;MACAN,KAAK,CAACS,MAAM,CAAC,YAAY,EAAEH,SAAS,CAAC;MACrC;MACAN,KAAK,CAACU,QAAQ,CAAC,SAAS,CAAC;IAC7B;EACJ,CAAC,CAAC,CAACC,KAAK,CAACC,CAAC,IAAE;IACRC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;EAClB,CAAC,CAAC;AAGN,CAAC;AAED,OAAO,MAAML,YAAY,GAAIL,MAAM,IAAK;EACpC,IAAIa,QAAQ,GAAG,EAAE;EACjBb,MAAM,CAACc,OAAO,CAACjB,MAAM,IAAI;IACrB,IAAI;MACAkB,IAAI;MACJC,SAAS;MACTC,IAAI;MACJC,IAAI;MACJC,OAAO;MACPC;IACJ,CAAC,GAAGvB,MAAM;IACV,IAAIuB,QAAQ,IAAIA,QAAQ,YAAYC,KAAK,EAAE;MACvC;MACAD,QAAQ,GAAGf,YAAY,CAACe,QAAQ,CAAC;IACrC;IACA,IAAIE,QAAQ,GAAG;MACXP,IAAI,EAAEA,IAAI;MACVE,IAAI,EAAEA,IAAI;MACVC,IAAI,EAAEA,IAAI;MACVC,OAAO,EAAEA,OAAO;MAChBC,QAAQ,EAAEA,QAAQ;MAClBJ,SAAS,CAACO,OAAO,EAAE;QACf,IAAIP,SAAS,CAACQ,UAAU,CAAC,MAAM,CAAC,EAAC;UAC7BC,OAAO,CAAC,CAAC,gBAAgB,GAAGT,SAAS,GAAG,MAAM,CAAC,EAAEO,OAAO,CAAC;QAC7D,CAAC,MAAK,IAAIP,SAAS,CAACQ,UAAU,CAAC,KAAK,CAAC,EAAE;UACnCC,OAAO,CAAC,CAAC,eAAe,GAAGT,SAAS,GAAG,MAAM,CAAC,EAAEO,OAAO,CAAC;QAC5D;MACJ;IACJ,CAAC;IACDV,QAAQ,CAACa,IAAI,CAACJ,QAAQ,CAAC;EAC3B,CAAC,CAAC;EACF,OAAOT,QAAQ;AACnB,CAAC"}]}