{"remainingRequest":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\views\\home\\Login.vue?vue&type=style&index=0&id=cb23f19a&lang=css&","dependencies":[{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\views\\home\\Login.vue","mtime":1666527853824},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\css-loader\\dist\\cjs.js","mtime":1666529051082},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1666529052410},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\postcss-loader\\src\\index.js","mtime":1666529051463},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666529050686},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js","mtime":1666529052140}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5sb2dpblN0eWxlIHsKICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7CiAgICBiYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94OwogICAgbWFyZ2luOiAxODBweCBhdXRvOwogICAgd2lkdGg6IDM1MHB4OwogICAgcGFkZGluZzogMTVweCAzNXB4IDE1cHggMzVweDsKICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgYm9yZGVyOiAxcHggc29saWQgI2VhZWFlYTsKICAgIGJveC1zaGFkb3c6IDAgMCAyNXB4ICNjYWM2YzY7Cn0KLmxvZ2luVGl0bGUgewogICAgdGV4dC1hbGlnbjogY2VudGVyOwp9Ci5sb2dpblJlbWVtYmVyIHsKICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICBtYXJnaW46IDBweCAwcHggMTVweCAwcHg7Cn0KLmVsLWZvcm0taXRlbV9fY29udGVudHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwp9Cgo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";AAgHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n    <div>\n        <el-form\n                :rules=\"loginRule\"\n                ref=\"loginForm\"\n                :model=\"loginForm\"\n                class=\"loginStyle\"\n                v-loading=\"loading\"\n                element-loading-text=\"正在登陆中...\"\n                element-loading-spinner=\"el-icon-loading\"\n                element-loading-background=\"rgba(0, 0, 0, 0.8)\"\n        >\n            <h3 class=\"loginTitle\">系统登录</h3>\n            <el-form-item  prop=\"username\">\n                <el-input type=\"text\" v-model=\"loginForm.username\" placeholder=\"请输入用户名\"\n                          auto-complete=\"false\"></el-input>\n            </el-form-item>\n            <el-form-item  prop=\"password\">\n                <el-input type=\"password\" v-model=\"loginForm.password\" placeholder=\"请输入密码\"\n                          auto-complete=\"false\"></el-input>\n            </el-form-item>\n            <el-form-item  prop=\"code\">\n                <el-input style=\"width: 250px;margin-right: 5px\"  type=\"text\" v-model=\"loginForm.code\" @keydown.enter.native=\"submitLogin\" placeholder=\"点击图片获取验证码\" auto-complete=\"false\"></el-input>\n                <img :src=\"captchaUrl\" @click=\"updateCaptcha\">\n            </el-form-item>\n            <el-checkbox v-model=\"checked\" class=\"loginRemember\">记住我</el-checkbox>\n            <el-button type=\"primary\" style=\"width: 100%\" @click=\"submitLogin\">登录</el-button>\n        </el-form>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"Login\",\n        data() {\n            return {\n                captchaUrl: '/captcha?time=' + new Date(),\n                loginForm: {\n                    username: '',\n                    password: '',\n                    code: ''\n                },\n                checked: true,\n                loading: false,\n                loginRule: {\n                    username: [{required: true, message: '请输入用户名', trigger: blur}],\n                    password: [{required: true, message: '请输入密码', trigger: blur}],\n                    code: [{required: true, message: '请输入验证码', trigger: blur}],\n                }\n            }\n        },\n        methods: {\n            updateCaptcha(){\n                this.captchaUrl = '/captcha?time=' + new Date();\n            },\n            submitLogin() {\n                this.$refs.loginForm.validate((valid) => {\n                    if (valid) {\n                        this.loading = true\n                        this.postRequest('/login',this.loginForm).then(res=>{\n                           if (res){\n                               this.loading = false\n                               //存储用户token\n                               const tokenStr = res.obj.tokenHead + res.obj.token;\n                               window.sessionStorage.setItem('tokenStr',tokenStr);\n\n                               //跳转页面\n                               let path = this.$route.query.redirect;\n                               this.$router.replace(\n                                   (path === '/' || path === undefined) ? '/home' : path);\n                           }else {\n                               this.loading = false\n                               this.$router.replace('/')\n                               this.updateCaptcha();\n                           }\n                        })\n                    } else {\n                        this.$message.error('请完善表单信息');\n                        return false;\n                    }\n                });\n            }\n        }\n\n    }\n</script>\n\n<style>\n    .loginStyle {\n        border-radius: 15px;\n        background-clip: padding-box;\n        margin: 180px auto;\n        width: 350px;\n        padding: 15px 35px 15px 35px;\n        background: white;\n        border: 1px solid #eaeaea;\n        box-shadow: 0 0 25px #cac6c6;\n    }\n    .loginTitle {\n        text-align: center;\n    }\n    .loginRemember {\n        text-align: left;\n        margin: 0px 0px 15px 0px;\n    }\n    .el-form-item__content{\n        display: flex;\n        align-items: center;\n    }\n\n</style>\n"]}]}