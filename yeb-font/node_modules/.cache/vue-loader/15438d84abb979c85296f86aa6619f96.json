{"remainingRequest":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\views\\sys\\SysAdmin.vue?vue&type=style&index=0&id=1e6c24be&scoped=true&lang=css&","dependencies":[{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\views\\sys\\SysAdmin.vue","mtime":1666527853824},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\css-loader\\dist\\cjs.js","mtime":1666529051082},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1666529052410},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\postcss-loader\\src\\index.js","mtime":1666529051463},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666529050686},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js","mtime":1666529052140}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5hZG1pbi1jb250YWluZXJ7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7CiAgICBmbGV4LXdyYXA6IHdyYXA7CiAgICBtYXJnaW4tdG9wOiAxMHB4Owp9Ci5hZG1pbi1jYXJkewogICAgd2lkdGg6IDM1MHB4OwogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKfQouYWRtaW4taW1hZ2V7CiAgICB3aWR0aDogNzJweDsKICAgIGhlaWdodDogNzJweDsKICAgIGJvcmRlci1yYWRpdXM6IDcycHg7Cn0KLmltZy1jb250YWluZXJ7CiAgICB3aWR0aDogMTAwJTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQoudXNlcmluZm97CiAgICBmb250LXNpemU6IDEycHg7CiAgICBjb2xvcjogI2E2YmVkNzsKfQo="},{"version":3,"sources":["SysAdmin.vue"],"names":[],"mappings":";AAoIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SysAdmin.vue","sourceRoot":"src/views/sys","sourcesContent":["<template>\n    <div>\n        <div style=\"display: flex;justify-content: center;margin-top: 10px\">\n            <el-input v-model=\"keywords\"\n                    placeholder=\"通过用户名搜索用户...\"\n                    prefix-icon=\"el-icon-search\"\n                    style=\"width: 500px\"\n                    @keydown.enter.native=\"search\"\n            ></el-input>\n        </div>\n        <div class=\"admin-container\">\n            <el-card class=\"admin-card\" v-for=\"(admin,index) in admins\" :key=\"index\">\n                <div slot=\"header\" class=\"clearfix\">\n                    <span>{{admin.name}}</span>\n                    <el-button style=\"float: right;padding: 3px 0;color: red\" type=\"text\" icon=\"el-icon-delete\" @click=\"deleteAdmin(admin)\"></el-button>\n                </div>\n                <div class=\"img-container\">\n                    <img :name=\"admin.name\" :title=\"admin.name\"  :src=\"admin.userFace\" class=\"admin-image\">\n                </div>\n                <div  class=\"userinfo\">\n                    <div>用户名:{{admin.name}}</div>\n                    <div>手机号码:{{admin.phone}}</div>\n                    <div>电话号码:{{admin.telephone}}</div>\n                    <div>地址:{{admin.address}}</div>\n                    <div>用户状态:\n                        <el-switch\n                                style=\"margin-left: 10px\"\n                                v-model=\"admin.enabled\"\n                                @change=\"enableChange(admin)\"\n                                active-color=\"#13ce66\"\n                                inactive-color=\"#ff4949\"\n                                active-text=\"启用\"\n                                inactive-text=\"暂不启用\">\n                        </el-switch>\n                    </div>\n                    <div>\n                        用户角色: <el-tag style=\"margin-right: 4px\" type=\"success\" v-for=\"(item,index) in admin.roles\">{{item.nameZh}}</el-tag>\n                        <el-button type=\"text\" icon=\"el-icon-more\"></el-button>\n                    </div>\n                    <div>备注:{{admin.remark}}</div>\n                </div>\n            </el-card>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"SysAdmin\",\n        data(){\n            return{\n                admins: [],\n                keywords: ''\n            }\n        },\n        mounted() {\n            this.initAdmin();\n        },\n        methods: {\n            enableChange(item){\n                let admin = {\n                    id: '',\n                    enabled: false\n                }\n                admin.id = item.id\n                admin.enabled = item.enabled\n                console.log(item.username);\n                this.postRequest('/system/admin/update/',admin).then(res=> {\n                    if (res) {\n                        this.initAdmin();\n                    }\n                })\n            },\n            deleteAdmin(admin){\n                this.$confirm('此操作将永久删除【'+admin.name+'】管理员, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    this.deleteRequest('/system/admin/delete/'+admin.id).then(res=>{\n                        if (res){\n                            this.initAdmin();\n                        }\n                    })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n            },\n            search(){\n                this.initAdmin();\n            },\n            initAdmin(){\n                this.getRequest('/system/admin/listAll/?keywords='+this.keywords).then(res =>{\n                    if (res){\n                        this.admins = res\n                    }\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .admin-container{\n        display: flex;\n        justify-content: space-around;\n        flex-wrap: wrap;\n        margin-top: 10px;\n    }\n    .admin-card{\n        width: 350px;\n        margin-bottom: 20px;\n    }\n    .admin-image{\n        width: 72px;\n        height: 72px;\n        border-radius: 72px;\n    }\n    .img-container{\n        width: 100%;\n        display: flex;\n        justify-content: center;\n    }\n    .userinfo{\n        font-size: 12px;\n        color: #a6bed7;\n    }\n</style>\n"]}]}