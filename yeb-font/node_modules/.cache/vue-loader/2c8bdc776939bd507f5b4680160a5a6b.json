{"remainingRequest":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\views\\sys\\SysAdmin.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\views\\sys\\SysAdmin.vue","mtime":1666527853824},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666529050686},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\babel-loader\\lib\\index.js","mtime":1666529051466},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666529050686},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js","mtime":1666529052140}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICBleHBvcnQgZGVmYXVsdCB7CiAgICAgICAgbmFtZTogIlN5c0FkbWluIiwKICAgICAgICBkYXRhKCl7CiAgICAgICAgICAgIHJldHVybnsKICAgICAgICAgICAgICAgIGFkbWluczogW10sCiAgICAgICAgICAgICAgICBrZXl3b3JkczogJycKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbW91bnRlZCgpIHsKICAgICAgICAgICAgdGhpcy5pbml0QWRtaW4oKTsKICAgICAgICB9LAogICAgICAgIG1ldGhvZHM6IHsKICAgICAgICAgICAgZW5hYmxlQ2hhbmdlKGl0ZW0pewogICAgICAgICAgICAgICAgbGV0IGFkbWluID0gewogICAgICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYWRtaW4uaWQgPSBpdGVtLmlkCiAgICAgICAgICAgICAgICBhZG1pbi5lbmFibGVkID0gaXRlbS5lbmFibGVkCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpdGVtLnVzZXJuYW1lKTsKICAgICAgICAgICAgICAgIHRoaXMucG9zdFJlcXVlc3QoJy9zeXN0ZW0vYWRtaW4vdXBkYXRlLycsYWRtaW4pLnRoZW4ocmVzPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0QWRtaW4oKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9LAogICAgICAgICAgICBkZWxldGVBZG1pbihhZG1pbil7CiAgICAgICAgICAgICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTjgJAnK2FkbWluLm5hbWUrJ+OAkeeuoeeQhuWRmCwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVSZXF1ZXN0KCcvc3lzdGVtL2FkbWluL2RlbGV0ZS8nK2FkbWluLmlkKS50aGVuKHJlcz0+ewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdEFkbWluKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojliKDpmaQnCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2VhcmNoKCl7CiAgICAgICAgICAgICAgICB0aGlzLmluaXRBZG1pbigpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBpbml0QWRtaW4oKXsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0UmVxdWVzdCgnL3N5c3RlbS9hZG1pbi9saXN0QWxsLz9rZXl3b3Jkcz0nK3RoaXMua2V5d29yZHMpLnRoZW4ocmVzID0+ewogICAgICAgICAgICAgICAgICAgIGlmIChyZXMpewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkbWlucyA9IHJlcwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cg=="},{"version":3,"sources":["SysAdmin.vue"],"names":[],"mappings":";AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SysAdmin.vue","sourceRoot":"src/views/sys","sourcesContent":["<template>\n    <div>\n        <div style=\"display: flex;justify-content: center;margin-top: 10px\">\n            <el-input v-model=\"keywords\"\n                    placeholder=\"通过用户名搜索用户...\"\n                    prefix-icon=\"el-icon-search\"\n                    style=\"width: 500px\"\n                    @keydown.enter.native=\"search\"\n            ></el-input>\n        </div>\n        <div class=\"admin-container\">\n            <el-card class=\"admin-card\" v-for=\"(admin,index) in admins\" :key=\"index\">\n                <div slot=\"header\" class=\"clearfix\">\n                    <span>{{admin.name}}</span>\n                    <el-button style=\"float: right;padding: 3px 0;color: red\" type=\"text\" icon=\"el-icon-delete\" @click=\"deleteAdmin(admin)\"></el-button>\n                </div>\n                <div class=\"img-container\">\n                    <img :name=\"admin.name\" :title=\"admin.name\"  :src=\"admin.userFace\" class=\"admin-image\">\n                </div>\n                <div  class=\"userinfo\">\n                    <div>用户名:{{admin.name}}</div>\n                    <div>手机号码:{{admin.phone}}</div>\n                    <div>电话号码:{{admin.telephone}}</div>\n                    <div>地址:{{admin.address}}</div>\n                    <div>用户状态:\n                        <el-switch\n                                style=\"margin-left: 10px\"\n                                v-model=\"admin.enabled\"\n                                @change=\"enableChange(admin)\"\n                                active-color=\"#13ce66\"\n                                inactive-color=\"#ff4949\"\n                                active-text=\"启用\"\n                                inactive-text=\"暂不启用\">\n                        </el-switch>\n                    </div>\n                    <div>\n                        用户角色: <el-tag style=\"margin-right: 4px\" type=\"success\" v-for=\"(item,index) in admin.roles\">{{item.nameZh}}</el-tag>\n                        <el-button type=\"text\" icon=\"el-icon-more\"></el-button>\n                    </div>\n                    <div>备注:{{admin.remark}}</div>\n                </div>\n            </el-card>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"SysAdmin\",\n        data(){\n            return{\n                admins: [],\n                keywords: ''\n            }\n        },\n        mounted() {\n            this.initAdmin();\n        },\n        methods: {\n            enableChange(item){\n                let admin = {\n                    id: '',\n                    enabled: false\n                }\n                admin.id = item.id\n                admin.enabled = item.enabled\n                console.log(item.username);\n                this.postRequest('/system/admin/update/',admin).then(res=> {\n                    if (res) {\n                        this.initAdmin();\n                    }\n                })\n            },\n            deleteAdmin(admin){\n                this.$confirm('此操作将永久删除【'+admin.name+'】管理员, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    this.deleteRequest('/system/admin/delete/'+admin.id).then(res=>{\n                        if (res){\n                            this.initAdmin();\n                        }\n                    })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n            },\n            search(){\n                this.initAdmin();\n            },\n            initAdmin(){\n                this.getRequest('/system/admin/listAll/?keywords='+this.keywords).then(res =>{\n                    if (res){\n                        this.admins = res\n                    }\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .admin-container{\n        display: flex;\n        justify-content: space-around;\n        flex-wrap: wrap;\n        margin-top: 10px;\n    }\n    .admin-card{\n        width: 350px;\n        margin-bottom: 20px;\n    }\n    .admin-image{\n        width: 72px;\n        height: 72px;\n        border-radius: 72px;\n    }\n    .img-container{\n        width: 100%;\n        display: flex;\n        justify-content: center;\n    }\n    .userinfo{\n        font-size: 12px;\n        color: #a6bed7;\n    }\n</style>\n"]}]}