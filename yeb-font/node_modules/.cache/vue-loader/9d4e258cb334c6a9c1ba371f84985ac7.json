{"remainingRequest":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\components\\sys\\basic\\PosMana.vue?vue&type=style&index=0&id=7c224bd0&scoped=true&lang=css&","dependencies":[{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\components\\sys\\basic\\PosMana.vue","mtime":1666527853824},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\css-loader\\dist\\cjs.js","mtime":1666529051082},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1666529052410},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\postcss-loader\\src\\index.js","mtime":1666529051463},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666529050686},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js","mtime":1666529052140}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5hZGRQb3NJbnB1dHsKICAgICAgd2lkdGg6IDMwMHB4OwogICAgICBtYXJnaW4tcmlnaHQ6IDhweDsKICB9CiAgLnBvc01hbmFNYWluewogICAgICBtYXJnaW4tdG9wOiAxMHB4OwogIH0KICAudXBkYXRlUG9zSW5wdXR7CiAgICAgIHdpZHRoOiAyMDBweDsKICAgICAgbWFyZ2luLWxlZnQ6IDhweDsKICB9Cgo="},{"version":3,"sources":["PosMana.vue"],"names":[],"mappings":";AAoPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PosMana.vue","sourceRoot":"src/components/sys/basic","sourcesContent":["<template>\n<div>\n    <div>\n        <el-input\n                class=\"addPosInput\"\n                size=\"small\"\n                @keydown.enter.native=\"addPosition\"\n                placeholder=\"添加职位\"\n                suffix-icon=\"el-icon-plus\"\n                v-model=pos.name>\n        </el-input>\n        <el-switch\n                style=\"margin:0 10px\"\n                v-model=\"pos.enabled\"\n                active-color=\"#13ce66\"\n                inactive-color=\"#ff4949\"\n                active-text=\"启用\"\n                inactive-text=\"暂不启用\">\n        </el-switch>\n\n        <el-button size=\"small\" icon=\"el-icon-plus\" type=\"primary\" @click=\"addPosition\">添加</el-button>\n    </div>\n    <div class=\"posManaMain\">\n        <el-table\n                :data=\"positions\"\n                stripe\n                border\n                style=\"width: 100%;text-align: center\"\n                @selection-change=\"handleSelectionChange\">>\n            <el-table-column\n                    type=\"selection\"\n                    width=\"55\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"id\"\n                    label=\"编号\"\n                    width=\"55\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"name\"\n                    label=\"职位\"\n                    width=\"150\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"createDate\"\n                    label=\"创建时间\"\n                    width=\"150\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"enabled\"\n                    label=\"是否启用\"\n                    width=\"150\">\n                <template slot-scope=\"scope\">\n                    <el-tag v-if=\"scope.row.enabled\" type=\"success\">已启用</el-tag>\n                    <el-tag v-else type=\"danger\">未启用</el-tag>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"操作\">\n                <template slot-scope=\"scope\">\n                    <el-button\n                            size=\"mini\"\n                            @click=\"showEditView(scope.$index, scope.row)\">编辑</el-button>\n                    <el-button\n                            size=\"mini\"\n                            type=\"danger\"\n                            @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n        <el-button style=\"margin-top: 8px;margin-inside: 30px\"\n                   type=\"danger\" size=\"small\"\n                   :disabled=\"this.multipleSelection.length === 0\"\n                   @click=\"deleteBatch\">\n                   批量删除\n        </el-button>\n    </div>\n    <el-dialog\n            title=\"职位编辑\"\n            :visible.sync=\"dialogVisible\"\n            width=\"30%\">\n           <div>\n               <table>\n                   <tr>\n                       <td>\n                           <el-tag>职位名称:</el-tag>\n                       </td>\n                       <td>\n                           <el-input v-model=\"updatePos.name\" size=\"small\"\n                                     class=\"updatePosInput\"></el-input>\n                       </td>\n                   </tr>\n                   <tr>\n                       <td>\n                           <el-tag>是否启用:</el-tag>\n                       </td>\n                       <td>\n                           <el-switch\n                                   style=\"margin-left: 10px\"\n                                   v-model=\"updatePos.enabled\"\n                                   active-color=\"#13ce66\"\n                                   inactive-color=\"#ff4949\"\n                                   active-text=\"启用\"\n                                   inactive-text=\"暂不启用\">\n                           </el-switch>\n                       </td>\n                   </tr>\n               </table>\n           </div>\n            <span slot=\"footer\" class=\"dialog-footer\">\n            <el-button size=\"small\" @click=\"dialogVisible = false\">取 消</el-button>\n            <el-button size=\"small\" type=\"primary\" @click=\"doUpdate\">确 定</el-button>\n          </span>\n    </el-dialog>\n\n</div>\n</template>\n\n<script>\n    export default {\n        name: \"PosMana\",\n        data(){\n            return{\n               pos:{\n                   name:'',\n                   enabled:'',\n               },\n                updatePos:{\n                    name:'',\n                    enabled:''\n                },\n                positions:[],\n                dialogVisible:false,\n                multipleSelection: []\n            }\n        },\n        mounted() {\n          this.initPositions();\n        },\n        methods:{\n            deleteBatch(){\n                this.$confirm('此操作将永久删除【'+this.multipleSelection.length+'】职位, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    let ids=[];\n                    this.multipleSelection.forEach(item=>{\n                        // ids+='ids='+item.id+'&'\n                        ids.push(item.id);\n                    });\n                    this.deleteRequest('/system/basic/pos/deleteBatch/?ids='+ids).then(resp=>{\n                        console.log(ids);\n                        if (resp){\n                            this.initPositions();\n                        }\n                    })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n\n\n            },\n            handleSelectionChange(val){\n                this.multipleSelection=val;\n            },\n            showEditView(index,data){\n                // this.updatePos=data;\n                //把data数据拷贝给updatePos回显到更新框\n                Object.assign(this.updatePos,data);\n                this.updatePos.createDate='';\n                this.dialogVisible=true;\n            },\n            doUpdate(){\n                this.postRequest('/system/basic/pos/update/',this.updatePos).then(resp=>{\n                    if (resp){\n                        this.initPositions();\n                        this.updatePos.name='';\n                        this.dialogVisible=false;\n                    }\n                })\n\n            },\n            handleDelete(index,data){\n                this.$confirm('此操作将永久删除【'+data.name+'】职位, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                   this.deleteRequest('/system/basic/pos/delete/'+data.id).then(resp=>{\n                       if (resp){\n                           this.initPositions();\n                       }\n                   })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n\n            },\n            addPosition(){\n              if (this.pos.name){\n                  this.postRequest('/system/basic/pos/add/',this.pos).then(resp=>{\n                      if (resp){\n                         this.initPositions();\n                         this.pos.name='';\n                      }\n                  })\n              }else {\n                  this.$message.error(\"添加职位不能为空\")\n              }\n            },\n            initPositions(){\n                this.getRequest('/system/basic/pos/listAll').then(resp=>{\n                    if (resp){\n                        this.positions=resp;\n                    }\n                })\n\n            }\n\n        }\n    }\n</script>\n\n<style scoped>\n  .addPosInput{\n        width: 300px;\n        margin-right: 8px;\n    }\n    .posManaMain{\n        margin-top: 10px;\n    }\n    .updatePosInput{\n        width: 200px;\n        margin-left: 8px;\n    }\n\n</style>\n"]}]}