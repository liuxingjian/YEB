{"remainingRequest":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\views\\home\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\views\\home\\Login.vue","mtime":1666527853824},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\babel-loader\\lib\\index.js","mtime":1666529051466},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666529050686},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js","mtime":1666529052140}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICBleHBvcnQgZGVmYXVsdCB7CiAgICAgICAgbmFtZTogIkxvZ2luIiwKICAgICAgICBkYXRhKCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgY2FwdGNoYVVybDogJy9jYXB0Y2hhP3RpbWU9JyArIG5ldyBEYXRlKCksCiAgICAgICAgICAgICAgICBsb2dpbkZvcm06IHsKICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgICAgICAgICAgICAgIGNvZGU6ICcnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgY2hlY2tlZDogdHJ1ZSwKICAgICAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgbG9naW5SdWxlOiB7CiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXnlKjmiLflkI0nLCB0cmlnZ2VyOiBibHVyfV0sCiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXlr4bnoIEnLCB0cmlnZ2VyOiBibHVyfV0sCiAgICAgICAgICAgICAgICAgICAgY29kZTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpemqjOivgeeggScsIHRyaWdnZXI6IGJsdXJ9XSwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbWV0aG9kczogewogICAgICAgICAgICB1cGRhdGVDYXB0Y2hhKCl7CiAgICAgICAgICAgICAgICB0aGlzLmNhcHRjaGFVcmwgPSAnL2NhcHRjaGE/dGltZT0nICsgbmV3IERhdGUoKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc3VibWl0TG9naW4oKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmxvZ2luRm9ybS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3RSZXF1ZXN0KCcvbG9naW4nLHRoaXMubG9naW5Gb3JtKS50aGVuKHJlcz0+ewogICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WtmOWCqOeUqOaIt3Rva2VuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2tlblN0ciA9IHJlcy5vYmoudG9rZW5IZWFkICsgcmVzLm9iai50b2tlbjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCd0b2tlblN0cicsdG9rZW5TdHIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v6Lez6L2s6aG16Z2iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGF0aCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnJlZGlyZWN0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHBhdGggPT09ICcvJyB8fCBwYXRoID09PSB1bmRlZmluZWQpID8gJy9ob21lJyA6IHBhdGgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoJy8nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDYXB0Y2hhKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7flrozlloTooajljZXkv6Hmga8nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgIH0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Login.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n    <div>\n        <el-form\n                :rules=\"loginRule\"\n                ref=\"loginForm\"\n                :model=\"loginForm\"\n                class=\"loginStyle\"\n                v-loading=\"loading\"\n                element-loading-text=\"正在登陆中...\"\n                element-loading-spinner=\"el-icon-loading\"\n                element-loading-background=\"rgba(0, 0, 0, 0.8)\"\n        >\n            <h3 class=\"loginTitle\">系统登录</h3>\n            <el-form-item  prop=\"username\">\n                <el-input type=\"text\" v-model=\"loginForm.username\" placeholder=\"请输入用户名\"\n                          auto-complete=\"false\"></el-input>\n            </el-form-item>\n            <el-form-item  prop=\"password\">\n                <el-input type=\"password\" v-model=\"loginForm.password\" placeholder=\"请输入密码\"\n                          auto-complete=\"false\"></el-input>\n            </el-form-item>\n            <el-form-item  prop=\"code\">\n                <el-input style=\"width: 250px;margin-right: 5px\"  type=\"text\" v-model=\"loginForm.code\" @keydown.enter.native=\"submitLogin\" placeholder=\"点击图片获取验证码\" auto-complete=\"false\"></el-input>\n                <img :src=\"captchaUrl\" @click=\"updateCaptcha\">\n            </el-form-item>\n            <el-checkbox v-model=\"checked\" class=\"loginRemember\">记住我</el-checkbox>\n            <el-button type=\"primary\" style=\"width: 100%\" @click=\"submitLogin\">登录</el-button>\n        </el-form>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"Login\",\n        data() {\n            return {\n                captchaUrl: '/captcha?time=' + new Date(),\n                loginForm: {\n                    username: '',\n                    password: '',\n                    code: ''\n                },\n                checked: true,\n                loading: false,\n                loginRule: {\n                    username: [{required: true, message: '请输入用户名', trigger: blur}],\n                    password: [{required: true, message: '请输入密码', trigger: blur}],\n                    code: [{required: true, message: '请输入验证码', trigger: blur}],\n                }\n            }\n        },\n        methods: {\n            updateCaptcha(){\n                this.captchaUrl = '/captcha?time=' + new Date();\n            },\n            submitLogin() {\n                this.$refs.loginForm.validate((valid) => {\n                    if (valid) {\n                        this.loading = true\n                        this.postRequest('/login',this.loginForm).then(res=>{\n                           if (res){\n                               this.loading = false\n                               //存储用户token\n                               const tokenStr = res.obj.tokenHead + res.obj.token;\n                               window.sessionStorage.setItem('tokenStr',tokenStr);\n\n                               //跳转页面\n                               let path = this.$route.query.redirect;\n                               this.$router.replace(\n                                   (path === '/' || path === undefined) ? '/home' : path);\n                           }else {\n                               this.loading = false\n                               this.$router.replace('/')\n                               this.updateCaptcha();\n                           }\n                        })\n                    } else {\n                        this.$message.error('请完善表单信息');\n                        return false;\n                    }\n                });\n            }\n        }\n\n    }\n</script>\n\n<style>\n    .loginStyle {\n        border-radius: 15px;\n        background-clip: padding-box;\n        margin: 180px auto;\n        width: 350px;\n        padding: 15px 35px 15px 35px;\n        background: white;\n        border: 1px solid #eaeaea;\n        box-shadow: 0 0 25px #cac6c6;\n    }\n    .loginTitle {\n        text-align: center;\n    }\n    .loginRemember {\n        text-align: left;\n        margin: 0px 0px 15px 0px;\n    }\n    .el-form-item__content{\n        display: flex;\n        align-items: center;\n    }\n\n</style>\n"]}]}