{"remainingRequest":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\components\\sys\\basic\\JoblevelMana.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\components\\sys\\basic\\JoblevelMana.vue","mtime":1666527853824},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666529050686},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\babel-loader\\lib\\index.js","mtime":1666529051466},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666529050686},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js","mtime":1666529052140}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICBleHBvcnQgZGVmYXVsdCB7CiAgICAgICAgbmFtZTogIkpvYmxldmVsTWFuYSIsCiAgICAgICAgZGF0YSgpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGpsOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgICAgICAgICAgdGl0bGVMZXZlbDogJycKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB1cGRhdGVKbDogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICAgICAgICAgIHRpdGxlTGV2ZWw6ICcnLAogICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgICAgICAgICAgICBtdWx0aXBsZVNlbGVjdGlvbjogW10sCiAgICAgICAgICAgICAgICBqbHM6IFtdLAogICAgICAgICAgICAgICAgdGl0bGVMZXZlbHM6IFsKICAgICAgICAgICAgICAgICAgICAn5q2j6auY57qnJywKICAgICAgICAgICAgICAgICAgICAn5Ymv6auY57qnJywKICAgICAgICAgICAgICAgICAgICAn5Lit57qnJywKICAgICAgICAgICAgICAgICAgICAn5Yid57qnJywKICAgICAgICAgICAgICAgICAgICAn6auY57qnJwogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBtb3VudGVkKCkgewogICAgICAgICAgICB0aGlzLmluaXRKbHMoKTsKICAgICAgICB9LAogICAgICAgIG1ldGhvZHM6IHsKICAgICAgICAgICAgZGVsZXRlQmF0Y2goKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTjgJAnICsgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5sZW5ndGggKyAn44CR5p2h6IGM56ewLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAvL+aKimlk5pS+5ZyoaWRz5pWw57uE6YeM6Z2iCiAgICAgICAgICAgICAgICAgICAgbGV0IGlkcyA9IFtdOwogICAgICAgICAgICAgICAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24uZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWRzLnB1c2goaXRlbS5pZCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVSZXF1ZXN0KCcvc3lzdGVtL2Jhc2ljL2pvYmxldmVsL2RlbGV0ZUJhdGNoLz9pZHM9JytpZHMpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRKbHMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHZhbCkgewogICAgICAgICAgICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbiA9IHZhbDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZG9VcGRhdGUoKSB7CiAgICAgICAgICAgICAgICB0aGlzLnBvc3RSZXF1ZXN0KCcvc3lzdGVtL2Jhc2ljL2pvYmxldmVsL3VwZGF0ZS8nLCB0aGlzLnVwZGF0ZUpsKS50aGVuKAogICAgICAgICAgICAgICAgICAgIHJlc3AgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0SmxzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFkZEpvYkxldmVsKCkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuamwubmFtZSAmJiB0aGlzLmpsLnRpdGxlTGV2ZWwpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3RSZXF1ZXN0KCcvc3lzdGVtL2Jhc2ljL2pvYmxldmVsL2FkZC8nLCB0aGlzLmpsKS50aGVuKHJlc3AgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0SmxzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7fovpPlhaXogYznp7DlkI0hJykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgaW5pdEpscygpIHsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0UmVxdWVzdCgnL3N5c3RlbS9iYXNpYy9qb2JsZXZlbC9saXN0QWxsJykudGhlbihyZXNwID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcCkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmpscyA9IHJlc3A7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuamwgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlTGV2ZWw6ICcnCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9LAogICAgICAgICAgICBzaG93RWRpdFZpZXcoZGF0YSkgewogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnVwZGF0ZUpsLCBkYXRhKTsKICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSmwuY3JlYXRlRGF0ZSA9ICcnOwogICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGVsZXRlSGFuZGxlcihkYXRhKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTjgJAnICsgZGF0YS5uYW1lICsgJ+OAkeiBjOensCwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVSZXF1ZXN0KCcvc3lzdGVtL2Jhc2ljL2pvYmxldmVsL2RlbGV0ZS8nICsgZGF0YS5pZCkudGhlbihyZXNwID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3ApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdEpscygpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQo="},{"version":3,"sources":["JoblevelMana.vue"],"names":[],"mappings":";AA2IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"JoblevelMana.vue","sourceRoot":"src/components/sys/basic","sourcesContent":["<template>\n    <div>\n        <div>\n            <el-input\n                    class=\"addJlInput\"\n                    size=\"small\"\n                    placeholder=\"添加职称\"\n                    suffix-icon=\"el-icon-plus\"\n                    v-model=jl.name>\n            </el-input>\n            <el-select size=\"small\" v-model=\"jl.titleLevel\" placeholder=\"职称等级\">\n                <el-option\n                        v-for=\"item in titleLevels\"\n                        :key=\"item\"\n                        :label=\"item\"\n                        :value=\"item\">\n                </el-option>\n            </el-select>\n            <el-button size=\"small\" type=\"primary\" icon=\"el-icon-plus\" style=\"margin-left: 10px\" @click=\"addJobLevel\">\n                添加职称\n            </el-button>\n        </div>\n        <div style=\"margin:10px 0px\">\n            <el-table\n                    border\n                    stripe\n                    :data=\"jls\"\n                    style=\"width: 100%;text-align: center\"\n                    @selection-change=\"handleSelectionChange\">\n                <el-table-column\n                        type=\"selection\"\n                        width=\"55\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"id\"\n                        label=\"编号\"\n                        width=\"55\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"name\"\n                        label=\"职称\"\n                        width=\"150\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"titleLevel\"\n                        label=\"职称等级\"\n                        width=\"150\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"createDate\"\n                        label=\"创建时间\"\n                        width=\"150\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"enabled\"\n                        label=\"是否启用\"\n                        width=\"120\">\n                    <template slot-scope=\"scope\">\n                        <el-tag v-if=\"scope.row.enabled\" type=\"success\">已启用</el-tag>\n                        <el-tag v-else type=\"danger\">未启用</el-tag>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"操作\">\n                    <template slot-scope=\"scope\">\n                        <el-button\n                                size=\"small\"\n                                @click=\"showEditView(scope.row)\">编辑\n                        </el-button>\n                        <el-button\n                                size=\"small\"\n                                type=\"danger\"\n                                @click=\"deleteHandler(scope.row)\">删除\n                        </el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n             \n            <el-button type=\"danger\" size=\"small\" style=\"margin-top: 10px\"\n                       :disabled=\"multipleSelection.length === 0\"\n                       @click=\"deleteBatch\">批量删除\n                           \n            </el-button>\n        </div>\n        <el-dialog\n                title=\"职称编辑\"\n                :visible.sync=\"dialogVisible\"\n                width=\"30%\"\n        >\n            <div>\n                <table>\n                    <tr>\n                        <td>\n                            <el-tag>职称</el-tag>\n                        </td>\n                        <td>\n                            <input v-model=\"updateJl.name\"></input>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <el-tag>职称级别</el-tag>\n                        </td>\n                        <td>\n                            <el-select size=\"small\" v-model=\"updateJl.titleLevel\" placeholder=\"职称等级\">\n                                <el-option\n                                        v-for=\"item in titleLevels\"\n                                        :key=\"item\"\n                                        :label=\"item\"\n                                        :value=\"item\">\n                                </el-option>\n                            </el-select>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <el-tag>是否启用</el-tag>\n                        </td>\n                        <td>\n                            <el-switch\n                                    v-model=\"updateJl.enabled\"\n                                    active-color=\"#13ce66\"\n                                    inactive-color=\"#ff4949\"\n                                    active-text=\"启用\"\n                                    inactive-text=\"禁用\">\n                            </el-switch>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n            <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"doUpdate\">确 定</el-button>\n  </span>\n        </el-dialog>\n\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"JoblevelMana\",\n        data() {\n            return {\n                jl: {\n                    name: '',\n                    titleLevel: ''\n                },\n                updateJl: {\n                    name: '',\n                    titleLevel: '',\n                    enabled: false\n                },\n                dialogVisible: false,\n                multipleSelection: [],\n                jls: [],\n                titleLevels: [\n                    '正高级',\n                    '副高级',\n                    '中级',\n                    '初级',\n                    '高级'\n                ]\n            }\n        },\n        mounted() {\n            this.initJls();\n        },\n        methods: {\n            deleteBatch() {\n                this.$confirm('此操作将永久删除【' + this.multipleSelection.length + '】条职称, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    //把id放在ids数组里面\n                    let ids = [];\n                    this.multipleSelection.forEach(item => {\n                        ids.push(item.id);\n                    });\n                    this.deleteRequest('/system/basic/joblevel/deleteBatch/?ids='+ids).then(resp => {\n                        if (resp) {\n                            this.initJls();\n                        }\n                    })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n\n            },\n            handleSelectionChange(val) {\n                this.multipleSelection = val;\n            },\n            doUpdate() {\n                this.postRequest('/system/basic/joblevel/update/', this.updateJl).then(\n                    resp => {\n                        if (resp) {\n                            this.initJls();\n                            this.dialogVisible = false;\n                        }\n                    }\n                )\n\n            },\n            addJobLevel() {\n                if (this.jl.name && this.jl.titleLevel) {\n                    this.postRequest('/system/basic/joblevel/add/', this.jl).then(resp => {\n                        if (resp) {\n                            this.initJls();\n                        }\n                    })\n                } else {\n                    this.$message.error('请输入职称名!')\n                }\n            },\n            initJls() {\n                this.getRequest('/system/basic/joblevel/listAll').then(resp => {\n                    if (resp) {\n                        this.jls = resp;\n                        this.jl = {\n                            name: '',\n                            titleLevel: ''\n                        }\n                    }\n                })\n            },\n            showEditView(data) {\n                Object.assign(this.updateJl, data);\n                this.updateJl.createDate = '';\n                this.dialogVisible = true;\n            },\n            deleteHandler(data) {\n                this.$confirm('此操作将永久删除【' + data.name + '】职称, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    this.deleteRequest('/system/basic/joblevel/delete/' + data.id).then(resp => {\n                        if (resp) {\n                            this.initJls();\n                        }\n                    })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .addJlInput {\n        width: 300px;\n        margin-right: 10px;\n    }\n\n</style>\n"]}]}