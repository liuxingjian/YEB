{"remainingRequest":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\views\\emp\\EmpBasic.vue?vue&type=style&index=0&id=42af3467&scoped=true&lang=css&","dependencies":[{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\src\\views\\emp\\EmpBasic.vue","mtime":1666527853824},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\css-loader\\dist\\cjs.js","mtime":1666529051082},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1666529052410},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\postcss-loader\\src\\index.js","mtime":1666529051463},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666529050686},{"path":"D:\\workplace\\myProject\\yeb\\yeb1\\yeb\\yeb-font\\node_modules\\vue-loader\\lib\\index.js","mtime":1666529052140}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5kZXB0U3R5bGV7CiAgICB3aWR0aDogMTUwcHg7CiAgICBoZWlnaHQ6IDI4cHg7CiAgICBmb250LXNpemU6IDEzcHg7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGVkZWRlOwogICAgZGlzcGxheTogaW5saW5lLWZsZXg7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgcGFkZGluZy1sZWZ0OiAxNXB4OwogICAgY3Vyc29yOiBwb2ludGVyOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQouZGVwdFNlYXJjaHsKICAgIHdpZHRoOiAxMzBweDsKICAgIGhlaWdodDogMjhweDsKICAgIGZvbnQtc2l6ZTogMTNweDsKICAgIGRpc3BsYXk6IGlubGluZS1mbGV4OwogICAgYm9yZGVyOiAxcHggc29saWQgI2RlZGVkZTsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICBwYWRkaW5nLWxlZnQ6IDE1cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwp9Ci5zZWFyY2hTdHlsZXsKICAgIGJvcmRlcjogMXB4IHNvbGlkICM0MDllZmY7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgbWFyZ2luOiAxMHB4OwogICAgcGFkZGluZzogNXB4Owp9Cg=="},{"version":3,"sources":["EmpBasic.vue"],"names":[],"mappings":";AAo3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EmpBasic.vue","sourceRoot":"src/views/emp","sourcesContent":["<template>\n    <div>\n        <div>\n            <div style=\"display: flex;justify-content: space-between\">\n                <div>\n                    <el-input clearable @clear=\"initEmpData\"\n                              style=\"width: 300px;margin-right: 10px\"\n                              type=\"text\"\n                              v-model=\"empName\"\n                              @keydown.enter.native=\"initEmpData\"\n                              placeholder=\"请输入员工名进行搜索...\"\n                              prefix-icon=\"el-icon-search\"></el-input>\n                    <el-button type=\"primary\" icon=\"el-icon-search\" size=\"small\" @click=\"initEmpData\">搜索</el-button>\n                    <el-button type=\"primary\" size=\"small\" @click=\"showAdvanceSearch = !showAdvanceSearch\">\n                        <i :class=\"showAdvanceSearch ? 'fa fa-angle-double-up' : 'fa fa-angle-double-down'\"\n                           style=\"margin-right: 5px\" aria-hidden=\"true\"></i>高级搜索</el-button>\n                </div>\n                <div>\n                    <el-upload action=\"/employee/basic/import\"\n                               style=\"display: inline-block;margin-right: 8px\"\n                               :before-upload=\"beforeUpload\"\n                               :disabled=\"importDataDisabled\"\n                               :headers=\"headers\"\n                               :show-file-list=\"false\"\n                               :on-success=\"onSuccess\"\n                               :on-error=\"onError\">\n                        <el-button type=\"success\" size=\"small\" :icon=\"importDataIcon\" :disabled=\"importDataDisabled\">{{importDataBtn}}</el-button>\n                    </el-upload>\n                    <el-button type=\"success\" size=\"small\" icon=\"el-icon-download\" @click=\"exportEmp\">导出数据</el-button>\n                    <el-button type=\"primary\" icon=\"el-icon-plus\" size=\"small\" @click=\"showAddEmp\">添加员工</el-button>\n                </div>\n            </div>\n        </div>\n        <el-collapse-transition>\n            <div v-show=\"showAdvanceSearch\" class=\"searchStyle\">\n                <el-row>\n                    <el-col :span=\"5\">\n                        政治面貌:\n                        <el-select v-model=\"empSearch.politicId\" size=\"mini\" style=\"width: 130px\" placeholder=\"政治面貌\">\n                            <el-option\n                                    v-for=\"item in politicsStatus\"\n                                    :key=\"item.id\"\n                                    :label=\"item.name\"\n                                    :value=\"item.id\">\n                            </el-option>\n                        </el-select>\n                    </el-col>\n                    <el-col :span=\"4\">\n                        民族:\n                        <el-select v-model=\"empSearch.nationId\" size=\"mini\" style=\"width: 130px\" placeholder=\"民族\">\n                            <el-option\n                                    v-for=\"item in nations\"\n                                    :key=\"item.id\"\n                                    :label=\"item.name\"\n                                    :value=\"item.id\">\n                            </el-option>\n                        </el-select>\n                    </el-col>\n                    <el-col :span=\"4\">\n                        职位:\n                        <el-select v-model=\"empSearch.posId\" size=\"mini\" style=\"width: 150px\" placeholder=\"职位\">\n                            <el-option\n                                    v-for=\"item in positions\"\n                                    :key=\"item.id\"\n                                    :label=\"item.name\"\n                                    :value=\"item.id\">\n                            </el-option>\n                        </el-select>\n                    </el-col>\n                    <el-col :span=\"4\">\n                        职称:\n                        <el-select v-model=\"empSearch.jobLevelId\" size=\"mini\" style=\"width: 150px\" placeholder=\"职称\">\n                            <el-option\n                                    v-for=\"item in jobLevels\"\n                                    :key=\"item.id\"\n                                    :label=\"item.name\"\n                                    :value=\"item.id\">\n                            </el-option>\n                        </el-select>\n                    </el-col>\n                    <el-col :span=\"7\">\n                        聘用形式:\n                        <el-radio-group v-model=\"empSearch.engageForm\">\n                            <el-radio label=\"劳动合同\">劳动合同</el-radio>\n                            <el-radio label=\"劳务合同\">劳务合同</el-radio>\n                        </el-radio-group>\n                    </el-col>\n                </el-row>\n                <el-row style=\"margin-top: 10px\">\n                    <el-col :span=\"5\">\n                        所属部门:\n                        <el-popover\n                                placement=\"bottom\"\n                                title=\"请选择部门\"\n                                width=\"260\"\n                                trigger=\"manual\"\n                                v-model=\"visible2\"\n                        >\n                            <el-tree :data=\"allDeps\"\n                                     :props=\"defaultProps\"\n                                     default-expand-all\n                                     @node-click=\"handleNodeClick2\"></el-tree>\n                            <div slot=\"reference\" class=\"deptSearch\" @click=\"showDeptView\">{{deptName}}</div>\n                        </el-popover>\n                    </el-col>\n                    <el-col :span=\"10\">\n                        入职日期:\n                        <el-date-picker\n                                v-model=\"empSearch.beginDateScope\"\n                                type=\"daterange\"\n                                unlink-panels\n                                value-format=\"yyyy-MM-dd\"\n                                size=\"mini\"\n                                range-separator=\"至\"\n                                start-placeholder=\"开始日期\"\n                                end-placeholder=\"结束日期\">\n                        </el-date-picker>\n                    </el-col>\n                    <el-col :span=\"5\" :offset=\"4\">\n                        <el-button size=\"mini\">取消</el-button>\n                        <el-button size=\"mini\" icon=\"el-icon-search\" type=\"primary\" @click=\"initEmpData('advance')\">搜索</el-button>\n                    </el-col>\n                </el-row>\n            </div>\n        </el-collapse-transition>\n        <div style=\"margin-top: 10px\">\n            <el-table\n                    :data=\"empData\"\n                    show-header\n                    height=\"500\"\n                    border\n                    v-loading=\"loading\"\n                    element-loading-text=\"数据加载中...\"\n                    element-loading-spinner=\"el-icon-loading\"\n                    element-loading-background=\"rgba(0, 0, 0, 0.8)\"\n                    style=\"width: 100%\">\n                <el-table-column\n                        type=\"selection\"\n                        width=\"55\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"name\"\n                        fixed\n                        label=\"姓名\"\n                        align=\"center\"\n                        width=\"70\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"workID\"\n                        label=\"工号\"\n                        align=\"center\"\n                        width=\"85\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"gender\"\n                        label=\"性别\"\n                        align=\"center\"\n                        width=\"50\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"birthday\"\n                        label=\"出生日期\"\n                        align=\"left\"\n                        width=\"95\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"idCard\"\n                        label=\"身份证号\"\n                        align=\"left\"\n                        width=\"170\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"wedlock\"\n                        label=\"婚姻状况\"\n                        align=\"center\"\n                        width=\"100\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"nation.name\"\n                        label=\"民族\"\n                        align=\"center\"\n                        width=\"50\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"nativePlace\"\n                        label=\"籍贯\"\n                        align=\"center\"\n                        width=\"80\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"politicsStatus.name\"\n                        label=\"政治面貌\"\n                        align=\"center\"\n                        width=\"120\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"email\"\n                        label=\"邮箱\"\n                        align=\"center\"\n                        width=\"180\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"phone\"\n                        label=\"电话号码\"\n                        align=\"center\"\n                        width=\"120\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"address\"\n                        label=\"联系地址\"\n                        align=\"center\"\n                        width=\"300\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"department.name\"\n                        label=\"所属部门\"\n                        align=\"center\"\n                        width=\"100\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"joblevel.name\"\n                        label=\"职称\"\n                        align=\"center\"\n                        width=\"120\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"position.name\"\n                        label=\"职位\"\n                        align=\"center\"\n                        width=\"100\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"engageForm\"\n                        label=\"聘用形式\"\n                        align=\"center\"\n                        width=\"100\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"tiptopDegree\"\n                        label=\"最高学历\"\n                        align=\"center\"\n                        width=\"80\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"workState\"\n                        label=\"毕业院校\"\n                        align=\"center\"\n                        width=\"100\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"beginDate\"\n                        label=\"入职日期\"\n                        align=\"center\"\n                        width=\"95\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"conversionTime\"\n                        label=\"转正日期\"\n                        align=\"center\"\n                        width=\"120\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"beginContract\"\n                        label=\"合同起始日期\"\n                        align=\"center\"\n                        width=\"120\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"endContract\"\n                        label=\"合同截止日期\"\n                        align=\"center\"\n                        width=\"120\">\n                </el-table-column>\n                <el-table-column\n                        label=\"合同期限\"\n                        align=\"center\"\n                        width=\"100\">\n                    <template slot-scope=\"scope\">\n                        <el-tag>{{scope.row.contractTerm}}</el-tag>\n                        年\n                    </template>\n                </el-table-column>\n                <el-table-column\n                        label=\"操作\"\n                        fixed=\"right\"\n                        align=\"center\"\n                        width=\"240\">\n                    <template slot-scope=\"scope\">\n                        <el-button style=\"padding: 3px\" type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"showEditView(scope.row)\">编辑</el-button>\n                        <el-button style=\"padding: 3px\" type=\"info\" icon=\"el-icon-view\" size=\"mini\" @click=\"showEmpInfo(scope.row)\">查看高级资料</el-button>\n                        <el-button style=\"padding: 3px\" type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"deleteEmp(scope.row)\">删除</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <el-pagination\n                    style=\"display: flex;justify-content: flex-end\"\n                    @size-change=\"handleSizeChange\"\n                    @current-change=\"handleCurrentChange\"\n                    :current-page=\"currentPage\"\n                    :page-sizes=\"[10, 20, 30, 40, 50, 100]\"\n                    :page-size=\"size\"\n                    layout=\"total, sizes, prev, pager, next, jumper\"\n                    :total=\"total\">\n            </el-pagination>\n        </div>\n        <el-dialog\n                :title=\"title\"\n                :visible.sync=\"dialogVisible\"\n                modal\n                width=\"80%\">\n            <div>\n                <el-form ref=\"empForm\" :model=\"emp\" :rules=\"empRule\">\n                    <el-row>\n                        <el-col :span=\"6\">\n                            <el-form-item label=\"姓名：\" prop=\"name\">\n                                <el-input style=\"width: 150px\" v-model=\"emp.name\" size=\"mini\" placeholder=\"请输入员工姓名\" prefix-icon=\"el-icon-edit\"></el-input>\n                            </el-form-item>\n                        </el-col>\n                        <el-col :span=\"6\">\n                            <el-form-item label=\"性别：\" prop=\"gender\">\n                                <el-radio-group v-model=\"emp.gender\" style=\"margin-top: 10px\">\n                                    <el-radio label=\"男\">男</el-radio>\n                                    <el-radio label=\"女\">女</el-radio>\n                                </el-radio-group>\n                            </el-form-item>\n                        </el-col>\n                        <el-col :span=\"6\">\n                            <el-form-item label=\"出生日期：\" size=\"mini\" prop=\"birthday\">\n                                <el-date-picker\n                                        v-model=\"emp.birthday\"\n                                        type=\"date\"\n                                        style=\"width: 150px\"\n                                        value-format=\"yyyy-MM-dd\"\n                                        placeholder=\"出生日期\">\n                                </el-date-picker>\n                            </el-form-item>\n                        </el-col>\n                        <el-col :span=\"6\">\n                            <el-form-item label=\"政治面貌：\" prop=\"politicId\">\n                                <el-select v-model=\"emp.politicId\" size=\"mini\" style=\"width: 150px\" placeholder=\"政治面貌\">\n                                    <el-option\n                                            v-for=\"item in politicsStatus\"\n                                            :key=\"item.id\"\n                                            :label=\"item.name\"\n                                            :value=\"item.id\">\n                                    </el-option>\n                                </el-select>\n                            </el-form-item>\n                        </el-col>\n                    </el-row>\n                    <el-row>\n                        <el-col :span=\"6\">\n                            <el-form-item label=\"民族：\" prop=\"nationId\">\n                                <el-select v-model=\"emp.nationId\" size=\"mini\" style=\"width: 150px\" placeholder=\"民族\">\n                                    <el-option\n                                            v-for=\"item in nations\"\n                                            :key=\"item.id\"\n                                            :label=\"item.name\"\n                                            :value=\"item.id\">\n                                    </el-option>\n                                </el-select>\n                            </el-form-item>\n                        </el-col>\n                        <el-col :span=\"6\">\n                            <el-form-item label=\"籍贯：\" prop=\"nativePlace\">\n                                <el-input style=\"width: 150px\" v-model=\"emp.nativePlace\" size=\"mini\" placeholder=\"请输入籍贯\" prefix-icon=\"el-icon-edit\"></el-input>\n                            </el-form-item>\n                        </el-col>\n                        <el-col :span=\"6\">\n                            <el-form-item label=\"电子邮箱：\" size=\"mini\" prop=\"email\">\n                                <el-input style=\"width: 150px\" v-model=\"emp.email\" size=\"mini\" placeholder=\"请输入电子邮箱\" prefix-icon=\"el-icon-message\"></el-input>\n                            </el-form-item>\n                        </el-col>\n                        <el-col :span=\"6\">\n                            <el-form-item label=\"联系地址：\" size=\"mini\" prop=\"address\">\n                                <el-input style=\"width: 150px\" v-model=\"emp.address\" size=\"mini\" placeholder=\"请输入联系地址\" prefix-icon=\"el-icon-edit\"></el-input>\n                            </el-form-item>\n                        </el-col>\n                    </el-row>\n                    <el-row>\n                        <el-col :span=\"6\">\n                            <el-form-item label=\"职位：\" prop=\"posId\">\n                                <el-select v-model=\"emp.posId\" size=\"mini\" style=\"width: 150px\" placeholder=\"职位\">\n                                    <el-option\n                                            v-for=\"item in positions\"\n                                            :key=\"item.id\"\n                                            :label=\"item.name\"\n                                            :value=\"item.id\">\n                                    </el-option>\n                                </el-select>\n                            </el-form-item>\n                        </el-col>\n                        <el-col :span=\"6\">\n                            <el-form-item label=\"职称：\" prop=\"jobLevelId\">\n                                <el-select v-model=\"emp.jobLevelId\" size=\"mini\" style=\"width: 150px\" placeholder=\"职称\">\n                                    <el-option\n                                            v-for=\"item in jobLevels\"\n                                            :key=\"item.id\"\n                                            :label=\"item.name\"\n                                            :value=\"item.id\">\n                                    </el-option>\n                                </el-select>\n                            </el-form-item>\n                        </el-col>\n                        <el-col :span=\"6\">\n                            <el-form-item label=\"所属部门：\" size=\"mini\" prop=\"departmentId\">\n\n                                <el-popover\n                                        placement=\"bottom\"\n                                        title=\"请选择部门\"\n                                        width=\"200\"\n                                        trigger=\"manual\"\n                                        v-model=\"visible\"\n                                >\n                                    <el-tree :data=\"allDeps\"\n                                             :props=\"defaultProps\"\n                                             default-expand-all\n                                             @node-click=\"handleNodeClick\"></el-tree>\n                                    <div slot=\"reference\" class=\"deptStyle\" @click=\"showDept\">{{deptName}}</div>\n                                </el-popover>\n                            </el-form-item>\n                        </el-col>\n                        <el-col :span=\"6\">\n                            <el-form-item label=\"电话号码：\" size=\"mini\" prop=\"phone\">\n                                <el-input style=\"width: 150px\" v-model=\"emp.phone\" size=\"mini\" placeholder=\"请输入电话号码\" prefix-icon=\"el-icon-edit\"></el-input>\n                            </el-form-item>\n                        </el-col>\n                    </el-row>\n                    <el-row>\n                        <el-col :span=\"6\">\n                            <el-form-item label=\"工号：\" prop=\"workID\">\n                                <el-input disabled style=\"width: 150px\" v-model=\"emp.workID\" size=\"mini\" placeholder=\"请输入工号\"></el-input>\n                            </el-form-item>\n                        </el-col>\n                        <el-col :span=\"6\">\n                            <el-form-item label=\"学历：\" prop=\"tiptopDegree\">\n                                <el-select v-model=\"emp.tiptopDegree\" size=\"mini\" style=\"width: 150px\" placeholder=\"学历\">\n                                    <el-option\n                                            v-for=\"item in tiptopDegrees\"\n                                            :key=\"item\"\n                                            :label=\"item\"\n                                            :value=\"item\">\n                                    </el-option>\n                                </el-select>\n                            </el-form-item>\n                        </el-col>\n                        <el-col :span=\"6\">\n                            <el-form-item label=\"毕业院校：\" size=\"mini\" prop=\"school\">\n                                <el-input style=\"width: 150px\" size=\"mini\" v-model=\"emp.school\" placeholder=\"请输入毕业院校\" prefix-icon=\"el-icon-edit\"></el-input>\n                            </el-form-item>\n                        </el-col>\n                        <el-col :span=\"6\">\n                            <el-form-item label=\"专业名称：\" size=\"mini\" prop=\"specialty\">\n                                <el-input style=\"width: 150px\" size=\"mini\" v-model=\"emp.specialty\" placeholder=\"请输入专业名称\" prefix-icon=\"el-icon-edit\"></el-input>\n                            </el-form-item>\n                        </el-col>\n                    </el-row>\n                    <el-row>\n                        <el-col :span=\"6\">\n                            <el-form-item label=\"入职日期：\" prop=\"workID\" size=\"mini\">\n                                <el-date-picker\n                                        v-model=\"emp.beginDate\"\n                                        type=\"date\"\n                                        style=\"width: 150px\"\n                                        value-format=\"yyyy-MM-dd\"\n                                        placeholder=\"入职日期\">\n                                </el-date-picker>\n                            </el-form-item>\n                        </el-col>\n                        <el-col :span=\"6\">\n                            <el-form-item label=\"转正日期：\" prop=\"conversionTime\" size=\"mini\">\n                                <el-date-picker\n                                        v-model=\"emp.conversionTime\"\n                                        type=\"date\"\n                                        style=\"width: 150px\"\n                                        value-format=\"yyyy-MM-dd\"\n                                        placeholder=\"转正日期\">\n                                </el-date-picker>\n                            </el-form-item>\n                        </el-col>\n                        <el-col :span=\"6\">\n                            <el-form-item label=\"合同起始日期：\" size=\"mini\" prop=\"beginContract\">\n                                <el-date-picker\n                                        v-model=\"emp.beginContract\"\n                                        type=\"date\"\n                                        style=\"width: 150px\"\n                                        value-format=\"yyyy-MM-dd\"\n                                        placeholder=\"合同起始日期\">\n                                </el-date-picker>\n                            </el-form-item>\n                        </el-col>\n                        <el-col :span=\"6\">\n                            <el-form-item label=\"合同截止日期：\" size=\"mini\" prop=\"endContract\">\n                                <el-date-picker\n                                        v-model=\"emp.endContract\"\n                                        type=\"date\"\n                                        style=\"width: 150px\"\n                                        value-format=\"yyyy-MM-dd\"\n                                        placeholder=\"合同截止日期\">\n                                </el-date-picker>\n                            </el-form-item>\n                        </el-col>\n                    </el-row>\n                    <el-row>\n                        <el-col :span=\"8\">\n                            <el-form-item label=\"身份证号：\" prop=\"idCard\">\n                                <el-input style=\"width: 200px\" v-model=\"emp.idCard\" size=\"mini\" placeholder=\"请输入身份证号\" prefix-icon=\"el-icon-edit\"></el-input>\n                            </el-form-item>\n                        </el-col>\n                        <el-col :span=\"8\">\n                            <el-form-item label=\"聘用形式：\" prop=\"engageForm\">\n                                <el-radio-group v-model=\"emp.engageForm\" style=\"margin-top: 10px\">\n                                    <el-radio label=\"劳动合同\">劳动合同</el-radio>\n                                    <el-radio label=\"劳务合同\">劳务合同</el-radio>\n                                </el-radio-group>\n                            </el-form-item>\n                        </el-col>\n                        <el-col :span=\"8\">\n                            <el-form-item label=\"婚姻状况：\" prop=\"wedlock\">\n                                <el-radio-group v-model=\"emp.wedlock\" style=\"margin-top: 10px\">\n                                    <el-radio label=\"已婚\">已婚</el-radio>\n                                    <el-radio label=\"未婚\">未婚</el-radio>\n                                    <el-radio label=\"离异\">离异</el-radio>\n                                </el-radio-group>\n                            </el-form-item>\n                        </el-col>\n                    </el-row>\n                </el-form>\n            </div>\n            <template #footer>\n                    <span class=\"dialog-footer\">\n                      <el-button @click=\"dialogVisible = false\">取 消</el-button>\n                      <el-button type=\"primary\" @click=\"addEmp\">确 定</el-button>\n                    </span>\n            </template>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"EmpBasic\",\n        data() {\n            return {\n                nations:[],\n                jobLevels:[],\n                politicsStatus:[],\n                positions:[],\n                empData: [],\n                loading: false,\n                tiptopDegrees:['博士','硕士','本科','大专','高中','初中','小学','其他'],\n                allDeps: [],\n                deptName: '',\n                defaultProps: {\n                    children: 'children',\n                    label: 'name'\n                },\n                visible: false,\n                visible2: false,\n                showAdvanceSearch: false,\n                empSearch: {\n                    nationId: null,\n                    politicId: null,\n                    departmentId: null,\n                    posId: null,\n                    jobLevelId: null,\n                    engageForm: \"\",\n                    beginDateScope: null\n                },\n                emp: {\n                    id: null,\n                    name: \"\",\n                    gender: \"\",\n                    birthday: \"\",\n                    idCard: \"\",\n                    wedlock: \"\",\n                    nationId: null,\n                    nativePlace: \"\",\n                    politicId: null,\n                    email: \"\",\n                    phone: \"\",\n                    address: \"\",\n                    departmentId: null,\n                    jobLevelId: null,\n                    posId: null,\n                    engageForm: \"\",\n                    tiptopDegree: \"\",\n                    specialty: \"\",\n                    school: \"\",\n                    beginDate: \"\",\n                    workState: \"在职\",\n                    workID: \"\",\n                    contractTerm: null,\n                    conversionTime: \"\",\n                    notWorkDate: null,\n                    beginContract: \"\",\n                    endContract: \"\",\n                    workAge: null,\n                },\n                empRule: {\n                    name: [{ required: true, message: '请输入员工姓名', trigger: 'blur' }],\n                    gender: [{ required: true, message: '请输入员工性别', trigger: 'blur' }],\n                    birthday: [{ required: true, message: '请输入出生日期', trigger: 'blur' }],\n                    idCard: [{ required: true, message: '请输入身份证号', trigger: 'blur' },\n                        { pattern: /(^[1-9]\\d{5}(18|19|([23]\\d))\\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]$)|(^[1-9]\\d{5}\\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\\d{2})$/,\n                            message: '身份证号格式不正确',\n                            trigger: 'blur' }],\n                    wedlock: [{ required: true, message: '请选择婚姻状况', trigger: 'blur' }],\n                    nationId: [{ required: true, message: '请选择民族', trigger: 'blur' }],\n                    nativePlace: [{ required: true, message: '请输入籍贯', trigger: 'blur' }],\n                    politicId: [{ required: true, message: '请选择政治面貌', trigger: 'blur' }],\n                    email: [{ required: true, message: '请输入邮箱', trigger: 'blur' },{\n                        type: 'email', message: '邮箱格式不正确', trigger: 'blur'\n                    }],\n                    phone: [{ required: true, message: '请输入电话号码', trigger: 'blur' }],\n                    address: [{ required: true, message: '请输入地址', trigger: 'blur' }],\n                    departmentId: [{ required: true, message: '请选择部门', trigger: 'blur' }],\n                    jobLevelId: [{ required: true, message: '请选择职称', trigger: 'blur' }],\n                    posId: [{ required: true, message: '请选择职位', trigger: 'blur' }],\n                    engageForm: [{ required: true, message: '请选择聘用形式', trigger: 'blur' }],\n                    tiptopDegree: [{ required: true, message: '请选择学历', trigger: 'blur' }],\n                    specialty: [{ required: true, message: '请输入专业', trigger: 'blur' }],\n                    school: [{ required: true, message: '请输入毕业院校', trigger: 'blur' }],\n                    beginDate: [{ required: true, message: '请输入入职日期', trigger: 'blur' }],\n                    contractTerm: [{ required: true, message: '请输入合同日期', trigger: 'blur' }],\n                    conversionTime: [{ required: true, message: '请输入转正日期', trigger: 'blur' }],\n                    notWorkDate: [{ required: true, message: '请输入离职日期', trigger: 'blur' }],\n                    beginContract: [{ required: true, message: '请输入合同起始日期', trigger: 'blur' }],\n                    endContract: [{ required: true, message: '请输入合同截止日期', trigger: 'blur' }],\n                },\n                currentPage: 1,\n                size: 10,\n                total: 0,\n                empName: '',\n                dialogVisible: false,\n                title: '',\n                importDataIcon: 'el-icon-upload2',\n                importDataBtn: '导入数据',\n                importDataDisabled: false,\n                headers:{\n                    Authorization: window.sessionStorage.getItem('tokenStr')\n                }\n            }\n        },\n        mounted() {\n            this.initEmpData()\n            this.initSelectData()\n            this.initPositions()\n        },\n        methods: {\n            showEmpInfo(data){},\n            showEditView(data){\n                this.dialogVisible = true\n                this.title = '编辑员工信息'\n                this.deptName = data.department.name\n                this.initPositions()\n                this.emp = data\n            },\n            deleteEmp(data){\n                this.$confirm('此操作将永久删除【'+data.name+'】, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    this.deleteRequest('/employee/basic/delete/'+data.id).then(res =>{\n                        if (res){\n                            this.initEmpData()\n                        }\n                    })\n                }).catch(() => {\n                    this.$message({\n                        type: 'warning',\n                        message: '取消删除'\n                    });\n                });\n            },\n            addEmp(){\n                this.$refs['empForm'].validate(valid => {\n                    if (valid){\n                        if (this.emp.id){\n                            this.putRequest('/employee/basic/update',this.emp).then(res => {\n                                if (res){\n                                    this.dialogVisible = false\n                                    this.initEmpData()\n                                }\n                            })\n                        }else {\n                            this.postRequest('/employee/basic/add',this.emp).then(res => {\n                                if (res){\n                                    this.dialogVisible = false\n                                    this.initEmpData()\n                                }\n                            })\n                        }\n                    }else {\n                        this.$message.warning(\"请完善表单信息！\")\n                    }\n                })\n            },\n            showDept(){\n                this.visible = !this.visible\n            },\n            showDeptView(){\n                this.visible2 = !this.visible2\n            },\n            handleNodeClick(data){\n                this.emp.departmentId = data.id\n                this.deptName = data.name\n                this.visible = !this.visible\n            },\n            handleNodeClick2(data){\n                this.empSearch.departmentId = data.id\n                this.deptName = data.name\n                this.visible2 = !this.visible2\n            },\n            initPositions(){\n                this.getRequest('/system/basic/pos/listAll').then(res =>{\n                    if (res){\n                       this.positions = res\n                    }\n                })\n            },\n            initSelectData(){\n                let nation = window.sessionStorage.getItem('nations')\n                let jobLevel = window.sessionStorage.getItem('jobLevels')\n                let politicsStatus = window.sessionStorage.getItem('politicsStatus')\n                let allDept = window.sessionStorage.getItem('allDeps')\n                if (!allDept){\n                    this.getRequest('/system/basic/department/listAll').then(res =>{\n                        if (res){\n                            this.allDeps = res;\n                            window.sessionStorage.setItem('allDeps',JSON.stringify(res))\n                        }\n                    })\n                }else {\n                    this.allDeps = JSON.parse(allDept)\n                }\n                if (!politicsStatus){\n                    this.getRequest('/employee/basic/politicsStatusAll').then(res =>{\n                        if (res){\n                            this.politicsStatus = res;\n                            window.sessionStorage.setItem('politicsStatus',JSON.stringify(res))\n                        }\n                    })\n                }else {\n                    this.politicsStatus = JSON.parse(politicsStatus)\n                }\n                if (!jobLevel){\n                    this.getRequest('/system/basic/joblevel/listAll').then(res =>{\n                        if (res){\n                            this.jobLevels = res;\n                            window.sessionStorage.setItem('jobLevels',JSON.stringify(res))\n                        }\n                    })\n                }else {\n                    this.jobLevels = JSON.parse(jobLevel)\n                }\n                if (!nation){\n                    this.getRequest('/employee/basic/nation').then(res =>{\n                        if (res){\n                            this.nations = res;\n                            window.sessionStorage.setItem('nations',JSON.stringify(res))\n                        }\n                    })\n                }else {\n                    this.nations = JSON.parse(nation)\n                }\n            },\n            getMaxId(){\n                this.getRequest('/employee/basic/maxId').then(res => {\n                    if (res){\n                        this.emp.workID = res.obj\n                    }\n                })\n            },\n            beforeUpload(){\n                this.importDataBtn = '正在导入'\n                this.importDataIcon = 'el-icon-loading'\n                this.importDataDisabled = true\n            },\n            onSuccess(){\n                this.importDataBtn = '导入数据'\n                this.importDataIcon = 'el-icon-upload2'\n                this.importDataDisabled = false\n                this.initEmpData()\n            },\n            onError(){\n                this.importDataBtn = '导入数据'\n                this.importDataIcon = 'el-icon-upload2'\n                this.importDataDisabled = false\n            },\n            exportEmp(){\n                this.downloadRequest('/employee/basic/export')\n            },\n            showAddEmp(){\n                this.initPositions()\n                this.getMaxId()\n                this.title = '添加员工'\n                this.deptName = ''\n                this.emp = {}\n                this.dialogVisible = !this.dialogVisible\n            },\n            handleCurrentChange(currentPage) {\n                this.currentPage = currentPage\n                this.initEmpData()\n            },\n            handleSizeChange(size) {\n                this.size = size\n                this.initEmpData()\n            },\n            initEmpData(type) {\n                let url = '/employee/basic/listAll/?currentPage=' + this.currentPage + '&size=' + this.size\n                if (type && type === 'advance'){\n                    if (this.empSearch.politicId){\n                        url += '&politicId=' + this.empSearch.politicId\n                    }\n                    if (this.empSearch.nationId){\n                        url += '&nationId=' + this.empSearch.nationId\n                    }\n                    if (this.empSearch.posId){\n                        url += '&posId=' + this.empSearch.posId\n                    }\n                    if (this.empSearch.jobLevelId){\n                        url += '&jobLevelId=' + this.empSearch.jobLevelId\n                    }\n                    if (this.empSearch.engageForm){\n                        url += '&engageForm=' + this.empSearch.engageForm\n                    }\n                    if (this.empSearch.departmentId){\n                        url += '&departmentId=' + this.empSearch.departmentId\n                    }\n                    if (this.empSearch.beginDateScope){\n                        url += '&beginDateScope=' + this.empSearch.beginDateScope\n                    }\n                }else {\n                    url += '&name=' + this.empName\n                }\n                this.postRequest(url).then(res => {\n                    this.loading = true\n                    if (res) {\n                        this.loading = false\n                        this.empData = res.data\n                        this.total = res.total\n                    }\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .deptStyle{\n        width: 150px;\n        height: 28px;\n        font-size: 13px;\n        border: 1px solid #dedede;\n        display: inline-flex;\n        border-radius: 5px;\n        box-sizing: border-box;\n        padding-left: 15px;\n        cursor: pointer;\n        align-items: center;\n    }\n    .deptSearch{\n        width: 130px;\n        height: 28px;\n        font-size: 13px;\n        display: inline-flex;\n        border: 1px solid #dedede;\n        border-radius: 5px;\n        box-sizing: border-box;\n        padding-left: 15px;\n        cursor: pointer;\n        align-items: center;\n    }\n    .searchStyle{\n        border: 1px solid #409eff;\n        border-radius: 5px;\n        box-sizing: border-box;\n        margin: 10px;\n        padding: 5px;\n    }\n</style>\n"]}]}